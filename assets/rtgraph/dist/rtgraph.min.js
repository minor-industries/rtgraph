var ke=class{constructor(t=[],i=(a,r)=>a<r?-1:a>r?1:0){if(this.data=t,this.length=this.data.length,this.compare=i,this.length>0)for(let a=(this.length>>1)-1;a>=0;a--)this._down(a)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(this.length===0)return;let t=this.data[0],i=this.data.pop();return--this.length>0&&(this.data[0]=i,this._down(0)),t}peek(){return this.data[0]}_up(t){let{data:i,compare:a}=this,r=i[t];for(;t>0;){let n=t-1>>1,s=i[n];if(a(r,s)>=0)break;i[t]=s,t=n}i[t]=r}_down(t){let{data:i,compare:a}=this,r=this.length>>1,n=i[t];for(;t<r;){let s=(t<<1)+1,l=s+1;if(l<this.length&&a(i[l],i[s])<0&&(s=l),a(i[s],n)>=0)break;i[t]=i[s],t=s}i[t]=n}};function ve(e,t,i){let a=0,r=e.length-1,n=t;for(;a<=r;){let s=Math.floor((a+r)/2);i(e[s])?(n=s,r=s-1):a=s+1}return n}function Bt(e,t,i,a){let r=e.length,n=i.length;e.length=r+n;let s=r-1,l=n-1,o=r+n-1;for(;s>=0&&l>=0;)e[s]>i[l]?(e[o]=e[s],t[o]=t[s],s--):(e[o]=i[l],t[o]=a[l],l--),o--;for(;l>=0;)e[o]=i[l],t[o]=a[l],l--,o--;return e}var Ge=class{constructor(t,i){this.overlapCount=0,this.maxGapMS=i,this.data=[],this.series=[];for(let a=0;a<t;a++)this.series[a]={Pos:a,Timestamps:[],Values:[]}}newRow(t){let i=new Array(this.series.length+1);return i.fill(null,1),i[0]=new Date(t),this.data.push(i),i}interleave(t){if(t.length===0)return;let i,a=!0;this.mergeAndAddGaps(t,r=>{let[n,s,l,o]=r;(a||i[0].getTime()!==s)&&(i=this.newRow(s),a=!1),i[n+1]=l})}append(t){this.interleave(t)}getData(){return this.data}getSeries(){return this.series}detectOverlap(t){if(this.data.length===0)return[0,!1];let i=t.filter(r=>r.Timestamps.length>0).map(r=>r.Timestamps[0]).reduce((r,n)=>n<r?n:r,Number.MAX_VALUE);if(i===Number.MAX_VALUE)return[0,!1];let a=this.data[this.data.length-1][0].getTime();return[i,i<=a]}mergeSingleSeries(t){let i=this.series[t.Pos];i.Values.length===0?(i.Timestamps=t.Timestamps,i.Values=t.Values):Bt(i.Timestamps,i.Values,t.Timestamps,t.Values)}mergeAndAddGaps(t,i){let[a,r]=this.detectOverlap(t),n;r?(this.overlapCount++,this.data.length=ve(this.data,this.data.length,l=>l[0].getTime()>=a),n=this.series.map(l=>ve(l.Timestamps,l.Timestamps.length,o=>o>=a))):n=this.series.map(l=>l.Timestamps.length);for(let l=0;l<t.length;l++)this.mergeSingleSeries(t[l]);let s=new ke([],(l,o)=>l[1]-o[1]);for(let l=0;l<this.series.length;l++){let o=this.series[l],h=n[l];if(o.Timestamps.length===h)continue;let u=this.series[l];if(h>0){let d=u.Timestamps[h-1],c=o.Timestamps[h];c-d>this.maxGapMS&&s.push([l,c-1,NaN,-1])}s.push([l,o.Timestamps[h],o.Values[h],h])}for(;s.length>0;){let l=s.pop(),o=l[3];if(i(l),o<0)continue;let h=l[0],u=this.series[h],d=o+1;if(d>=u.Timestamps.length)continue;let c=l[1],f=u.Timestamps[d];f-c>this.maxGapMS&&s.push([h,f-1,NaN,-1]),s.push([h,u.Timestamps[d],u.Values[d],d])}}};var Wt=function(e,t,i,a,r,n){var s=function(l){return l==="logscale"?!1:a(l)};return Q(e,t,i,s,r,n)},Q=function(e,t,i,a,r,n){var s=a("pixelsPerLabel"),l=[],o,h,u,d;if(n)for(o=0;o<n.length;o++)l.push({v:n[o]});else{if(a("logscale")){d=Math.floor(i/s);var c=Ne(e,Xe,1),f=Ne(t,Xe,-1);c==-1&&(c=0),f==-1&&(f=Xe.length-1);var p=null;if(f-c>=d/4){for(var v=f;v>=c;v--){var y=Xe[v],m=Math.log(y/e)/Math.log(t/e)*i,_={v:y};p===null?p={tickValue:y,pixel_coord:m}:Math.abs(m-p.pixel_coord)>=s?p={tickValue:y,pixel_coord:m}:_.label="",l.push(_)}l.reverse()}}if(l.length===0){var b=a("labelsKMG2"),w,S;b?(w=[1,2,4,8,16,32,64,128,256],S=16):(w=[1,2,5,10,20,50,100],S=10);var R=Math.ceil(i/s),x=Math.abs(t-e)/R,T=Math.floor(Math.log(x)/Math.log(S)),L=Math.pow(S,T),A,C,z,I;for(h=0;h<w.length&&(A=L*w[h],C=Math.floor(e/A)*A,z=Math.ceil(t/A)*A,d=Math.abs(z-C)/A,I=i/d,!(I>s));h++);for(C>z&&(A*=-1),o=0;o<=d;o++)u=C+o*A,l.push({v:u})}}var W=a("axisLabelFormatter");for(o=0;o<l.length;o++)l[o].label===void 0&&(l[o].label=W.call(r,l[o].v,0,a,r));return l},re=function(e,t,i,a,r,n){var s=Di(e,t,i,a);return s>=0?ht(e,t,s,a,r):[]},D={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29},E={DATEFIELD_Y:0,DATEFIELD_M:1,DATEFIELD_D:2,DATEFIELD_HH:3,DATEFIELD_MM:4,DATEFIELD_SS:5,DATEFIELD_MS:6,NUM_DATEFIELDS:7},O=[];O[D.MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:1,spacing:1};O[D.TWO_MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:2,spacing:2};O[D.FIVE_MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:5,spacing:5};O[D.TEN_MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:10,spacing:10};O[D.FIFTY_MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:50,spacing:50};O[D.HUNDRED_MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:100,spacing:100};O[D.FIVE_HUNDRED_MILLISECONDLY]={datefield:E.DATEFIELD_MS,step:500,spacing:500};O[D.SECONDLY]={datefield:E.DATEFIELD_SS,step:1,spacing:1e3*1};O[D.TWO_SECONDLY]={datefield:E.DATEFIELD_SS,step:2,spacing:1e3*2};O[D.FIVE_SECONDLY]={datefield:E.DATEFIELD_SS,step:5,spacing:1e3*5};O[D.TEN_SECONDLY]={datefield:E.DATEFIELD_SS,step:10,spacing:1e3*10};O[D.THIRTY_SECONDLY]={datefield:E.DATEFIELD_SS,step:30,spacing:1e3*30};O[D.MINUTELY]={datefield:E.DATEFIELD_MM,step:1,spacing:1e3*60};O[D.TWO_MINUTELY]={datefield:E.DATEFIELD_MM,step:2,spacing:1e3*60*2};O[D.FIVE_MINUTELY]={datefield:E.DATEFIELD_MM,step:5,spacing:1e3*60*5};O[D.TEN_MINUTELY]={datefield:E.DATEFIELD_MM,step:10,spacing:1e3*60*10};O[D.THIRTY_MINUTELY]={datefield:E.DATEFIELD_MM,step:30,spacing:1e3*60*30};O[D.HOURLY]={datefield:E.DATEFIELD_HH,step:1,spacing:1e3*3600};O[D.TWO_HOURLY]={datefield:E.DATEFIELD_HH,step:2,spacing:1e3*3600*2};O[D.SIX_HOURLY]={datefield:E.DATEFIELD_HH,step:6,spacing:1e3*3600*6};O[D.DAILY]={datefield:E.DATEFIELD_D,step:1,spacing:1e3*86400};O[D.TWO_DAILY]={datefield:E.DATEFIELD_D,step:2,spacing:1e3*86400*2};O[D.WEEKLY]={datefield:E.DATEFIELD_D,step:7,spacing:1e3*604800};O[D.MONTHLY]={datefield:E.DATEFIELD_M,step:1,spacing:1e3*7200*365.2425};O[D.QUARTERLY]={datefield:E.DATEFIELD_M,step:3,spacing:1e3*21600*365.2425};O[D.BIANNUAL]={datefield:E.DATEFIELD_M,step:6,spacing:1e3*43200*365.2425};O[D.ANNUAL]={datefield:E.DATEFIELD_Y,step:1,spacing:1e3*86400*365.2425};O[D.DECADAL]={datefield:E.DATEFIELD_Y,step:10,spacing:1e3*864e3*365.2425};O[D.CENTENNIAL]={datefield:E.DATEFIELD_Y,step:100,spacing:1e3*864e4*365.2425};var Xe=function(){for(var e=[],t=-39;t<=39;t++)for(var i=Math.pow(10,t),a=1;a<=9;a++){var r=i*a;e.push(r)}return e}(),Di=function(e,t,i,a){for(var r=a("pixelsPerLabel"),n=0;n<D.NUM_GRANULARITIES;n++){var s=Ei(e,t,n);if(i/s>=r)return n}return-1},Ei=function(e,t,i){var a=O[i].spacing;return Math.round(1*(t-e)/a)},ht=function(e,t,i,a,r){var n=a("axisLabelFormatter"),s=a("labelsUTC"),l=s?Ze:Ye,o=O[i].datefield,h=O[i].step,u=O[i].spacing,d=new Date(e),c=[];c[E.DATEFIELD_Y]=l.getFullYear(d),c[E.DATEFIELD_M]=l.getMonth(d),c[E.DATEFIELD_D]=l.getDate(d),c[E.DATEFIELD_HH]=l.getHours(d),c[E.DATEFIELD_MM]=l.getMinutes(d),c[E.DATEFIELD_SS]=l.getSeconds(d),c[E.DATEFIELD_MS]=l.getMilliseconds(d);var f=c[o]%h;i==D.WEEKLY&&(f=l.getDay(d)),c[o]-=f;for(var p=o+1;p<E.NUM_DATEFIELDS;p++)c[p]=p===E.DATEFIELD_D?1:0;var v=[],y=l.makeDate.apply(null,c),m=y.getTime();if(i<=D.HOURLY)for(m<e&&(m+=u,y=new Date(m));m<=t;)v.push({v:m,label:n.call(r,y,i,a,r)}),m+=u,y=new Date(m);else for(m<e&&(c[o]+=h,y=l.makeDate.apply(null,c),m=y.getTime());m<=t;)(i>=D.DAILY||l.getHours(y)%h===0)&&v.push({v:m,label:n.call(r,y,i,a,r)}),c[o]+=h,y=l.makeDate.apply(null,c),m=y.getTime();return v};var se=10,Ci=Math.log(se),M=function(e){return Math.log(e)/Ci},Pe=function(e,t,i){var a=M(e),r=M(t),n=a+i*(r-a),s=Math.pow(se,n);return s};var qt=[7,3],$t=[7,2,2,2],ye=1,me=2,_e=function(e){return e.getContext("2d")},oe=function(t,i,a){t.addEventListener(i,a,!1)};function G(e,t,i){e.removeEventListener(t,i,!1)}function j(e){return e=e||window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function Jt(e,t,i){var a,r,n;if(t===0)a=i,r=i,n=i;else{var s=Math.floor(e*6),l=e*6-s,o=i*(1-t),h=i*(1-t*l),u=i*(1-t*(1-l));switch(s){case 1:a=h,r=i,n=o;break;case 2:a=o,r=i,n=u;break;case 3:a=o,r=h,n=i;break;case 4:a=u,r=o,n=i;break;case 5:a=i,r=o,n=h;break;case 6:case 0:a=i,r=u,n=o;break}}return a=Math.floor(255*a+.5),r=Math.floor(255*r+.5),n=Math.floor(255*n+.5),"rgb("+a+","+r+","+n+")"}function te(e){var t=e.getBoundingClientRect(),i=window,a=document.documentElement;return{x:t.left+(i.pageXOffset||a.scrollLeft),y:t.top+(i.pageYOffset||a.scrollTop)}}function be(e){return!e.pageX||e.pageX<0?0:e.pageX}function xe(e){return!e.pageY||e.pageY<0?0:e.pageY}function we(e,t){return be(e)-t.px}function Ae(e,t){return xe(e)-t.py}function Qt(e){return!!e&&!isNaN(e)}function Se(e,t){return!(!e||e.yval===null||e.x===null||e.x===void 0||e.y===null||e.y===void 0||isNaN(e.x)||!t&&isNaN(e.y))}function pt(e,t){var i=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&e!==0?e.toExponential(i-1):e.toPrecision(i)}function ne(e){return e<10?"0"+e:""+e}var Ye={getFullYear:e=>e.getFullYear(),getMonth:e=>e.getMonth(),getDate:e=>e.getDate(),getHours:e=>e.getHours(),getMinutes:e=>e.getMinutes(),getSeconds:e=>e.getSeconds(),getMilliseconds:e=>e.getMilliseconds(),getDay:e=>e.getDay(),makeDate:function(e,t,i,a,r,n,s){return new Date(e,t,i,a,r,n,s)}},Ze={getFullYear:e=>e.getUTCFullYear(),getMonth:e=>e.getUTCMonth(),getDate:e=>e.getUTCDate(),getHours:e=>e.getUTCHours(),getMinutes:e=>e.getUTCMinutes(),getSeconds:e=>e.getUTCSeconds(),getMilliseconds:e=>e.getUTCMilliseconds(),getDay:e=>e.getUTCDay(),makeDate:function(e,t,i,a,r,n,s){return new Date(Date.UTC(e,t,i,a,r,n,s))}};function ft(e,t,i,a){var r=ne(e)+":"+ne(t);if(i&&(r+=":"+ne(i),a)){var n=""+a;r+="."+("000"+n).substring(n.length)}return r}function gt(e,t){var i=t?Ze:Ye,a=new Date(e),r=i.getFullYear(a),n=i.getMonth(a),s=i.getDate(a),l=i.getHours(a),o=i.getMinutes(a),h=i.getSeconds(a),u=i.getMilliseconds(a),d=""+r,c=ne(n+1),f=ne(s),p=l*3600+o*60+h+.001*u,v=d+"/"+c+"/"+f;return p&&(v+=" "+ft(l,o,h,u)),v}function dt(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function Ne(e,t,i,a,r){if((a==null||r===null||r===void 0)&&(a=0,r=t.length-1),a>r)return-1;i==null&&(i=0);var n=function(h){return h>=0&&h<t.length},s=parseInt((a+r)/2,10),l=t[s],o;return l==e?s:l>e?i>0&&(o=s-1,n(o)&&t[o]<e)?s:Ne(e,t,i,a,s-1):l<e?i<0&&(o=s+1,n(o)&&t[o]>e)?s:Ne(e,t,i,s+1,r):-1}function vt(e){var t,i;if((e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1)&&(i=ct(e),i&&!isNaN(i)))return i;if(e.search("-")!=-1){for(t=e.replace("-","/","g");t.search("-")!=-1;)t=t.replace("-","/");i=ct(t)}else i=ct(e);return(!i||isNaN(i))&&console.error("Couldn't parse "+e+" as a date"),i}function ct(e){return new Date(e).getTime()}function B(e,t){if(typeof t<"u"&&t!==null)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var Li=typeof Node<"u"&&Node!==null&&typeof Node=="object"?function(t){return t instanceof Node}:function(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"};function qe(e,t){if(typeof t<"u"&&t!==null){for(var i in t)if(t.hasOwnProperty(i)){let a=t[i];a===null?e[i]=null:le(a)?e[i]=a.slice():Li(a)?e[i]=a:typeof a=="object"?((typeof e[i]!="object"||e[i]===null)&&(e[i]={}),qe(e[i],a)):e[i]=a}}return e}function jt(e){if(e===null)return"null";let t=typeof e;return(t==="object"||t==="function"&&typeof e.item=="function")&&typeof e.length=="number"&&e.nodeType!==3&&e.nodeType!==4?"array":t}function le(e){let t=typeof e;return e!==null&&(t==="object"||t==="function"&&typeof e.item=="function")&&typeof e.length=="number"&&e.nodeType!==3&&e.nodeType!==4}function yt(e){return e!==null&&typeof e=="object"&&typeof e.getTime=="function"}function mt(e){for(var t=[],i=0;i<e.length;i++)le(e[i])?t.push(mt(e[i])):t.push(e[i]);return t}function Te(){return document.createElement("canvas")}function Re(e){try{var t=window.devicePixelRatio,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t!==void 0?t/i:1}catch{return 1}}function ei(e,t,i,a){t=t||0,i=i||e.length,this.hasNext=!0,this.peek=null,this.start_=t,this.array_=e,this.predicate_=a,this.end_=Math.min(e.length,t+i),this.nextIdx_=t-1,this.next()}ei.prototype.next=function(){if(!this.hasNext)return null;for(var e=this.peek,t=this.nextIdx_+1,i=!1;t<this.end_;){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t],i=!0;break}t++}return this.nextIdx_=t,i||(this.hasNext=!1,this.peek=null),e};function $e(e,t,i,a){return new ei(e,t,i,a)}var Oi=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function _t(e,t,i,a){var r=0,n,s=new Date().getTime();if(e(r),t==1){a();return}var l=t-1;(function o(){r>=t||Oi.call(window,function(){var h=new Date().getTime(),u=h-s;n=r,r=Math.floor(u/i);var d=r-n,c=r+d>l;c||r>=l?(e(l),a()):(d!==0&&e(r),o())})})()}var Gt={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};function ti(e,t){var i={};if(e)for(var a=1;a<e.length;a++)i[e[a]]=!0;var r=function(o){for(var h in o)if(o.hasOwnProperty(h)&&!Gt[h])return!0;return!1};for(var n in t)if(t.hasOwnProperty(n)){if(n=="highlightSeriesOpts"||i[n]&&!t.series){if(r(t[n]))return!0}else if(n=="series"||n=="axes"){var s=t[n];for(var l in s)if(s.hasOwnProperty(l)&&r(s[l]))return!0}else if(!Gt[n])return!0}return!1}var Fe={DEFAULT:function(e,t,i,a,r,n,s){i.beginPath(),i.fillStyle=n,i.arc(a,r,s,0,2*Math.PI,!1),i.fill()}};function bt(e){for(var t=0;t<e.length;t++){var i=e.charAt(t);if(i==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:i;if(i===`
`)return t+1<e.length&&e.charAt(t+1)==="\r"?`
\r`:i}return null}function xt(e,t){if(t===null||e===null)return!1;for(var i=e;i&&i!==t;)i=i.parentNode;return i===t}function Xt(e,t){return t<0?1/Math.pow(e,-t):Math.pow(e,t)}var ki=/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/,Ni=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;function Yt(e){var t,i,a,r,n=null;if(t=ki.exec(e))i=parseInt(t[1],16),a=parseInt(t[2],16),r=parseInt(t[3],16),t[4]&&(n=parseInt(t[4],16));else if(t=Ni.exec(e))i=parseInt(t[1],10),a=parseInt(t[2],10),r=parseInt(t[3],10),t[4]&&(n=parseFloat(t[4]));else return null;return n!==null?{r:i,g:a,b:r,a:n}:{r:i,g:a,b:r}}function De(e){var t=Yt(e);if(t)return t;var i=document.createElement("div");i.style.backgroundColor=e,i.style.visibility="hidden",document.body.appendChild(i);var a=window.getComputedStyle(i,null).backgroundColor;return document.body.removeChild(i),Yt(a)}function ii(e){try{var t=e||document.createElement("canvas");t.getContext("2d")}catch{return!1}return!0}function ee(e,t,i){var a=parseFloat(e);if(!isNaN(a))return a;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var r="Unable to parse '"+e+"' as a number";return i!==void 0&&t!==void 0&&(r+=" on line "+(1+(t||0))+" ('"+i+"') of CSV."),console.error(r),null}var Mi=["k","M","G","T","P","E","Z","Y"],ai=["m","\xB5","n","p","f","a","z","y"],Pi=["Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"],Ri=["p-10","p-20","p-30","p-40","p-50","p-60","p-70","p-80"],Fi=["K","M","G","T","P","E","Z","Y"],Ii=ai;function Je(e,t){var i=t("sigFigs");if(i!==null)return pt(e,i);if(e===0)return"0";var a=t("digitsAfterDecimal"),r=t("maxNumberWidth"),n=t("labelsKMB"),s=t("labelsKMG2"),l,o=Math.abs(e);if(n||s){var h,u=[],d=[];n&&(h=1e3,u=Mi,d=ai),s&&(h=1024,u=Pi,d=Ri,n&&(u=Fi,d=Ii));var c,f;if(o>=h){for(f=u.length;f>0;)if(c=Xt(h,f),--f,o>=c)return o/c>=Math.pow(10,r)?l=e.toExponential(a):l=dt(e/c,a)+u[f],l}else if(o<1){for(f=0;f<d.length&&(++f,c=Xt(h,f),!(o*c>=1)););return o*c<Math.pow(10,-a)?l=e.toExponential(a):l=dt(e*c,a)+d[f-1],l}}return o>=Math.pow(10,r)||o<Math.pow(10,-a)?l=e.toExponential(a):l=""+dt(e,a),l}function Ie(e,t,i){return Je.call(this,e,i)}var Zt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(e,t,i){var a=i("labelsUTC"),r=a?Ze:Ye,n=r.getFullYear(e),s=r.getMonth(e),l=r.getDate(e),o=r.getHours(e),h=r.getMinutes(e),u=r.getSeconds(e),d=r.getMilliseconds(e);if(t>=D.DECADAL)return""+n;if(t>=D.MONTHLY)return Zt[s]+"&#160;"+n;var c=o*3600+h*60+u+.001*d;if(c===0||t>=D.DAILY)return ne(l)+"&#160;"+Zt[s];if(t<D.SECONDLY){var f=""+d;return ne(u)+"."+("000"+f).substring(f.length)}else return t>D.MINUTELY?ft(o,h,u,0):ft(o,h,u,d)}function Ee(e,t){return gt(e,t("labelsUTC"))}var Ke=[],Kt=!1;function Me(e){return typeof e=="function"&&e(),!0}function ri(e){if(typeof document<"u"){let t=function(){if(!Kt){Kt=!0,e.onDOMready=Me,document.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1);for(let a=0;a<Ke.length;++a)Ke[a]();Ke=null}};e.onDOMready=function(a){if(document.readyState==="complete")return e.onDOMready=Me,Me(a);let r=function(s){return typeof s=="function"&&Ke.push(s),!1};return e.onDOMready=r,document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1),document.readyState==="complete"?(t(),e.onDOMready=Me,Me(a)):r(a)}}}var U=function(e){this.dygraph_=e,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};U.prototype.addDataset=function(e,t){this.points.push(t),this.setNames.push(e)};U.prototype.getPlotArea=function(){return this.area_};U.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.dygraph_.getOption("rightGap"),e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(i){var a={x:e.x,y:e.y,w:i,h:e.h};return e.x+=i,e.w-=i,a},reserveSpaceRight:function(i){var a={x:e.x+e.w-i,y:e.y,w:i,h:e.h};return e.w-=i,a},reserveSpaceTop:function(i){var a={x:e.x,y:e.y,w:e.w,h:i};return e.y+=i,e.h-=i,a},reserveSpaceBottom:function(i){var a={x:e.x,y:e.y+e.h-i,w:e.w,h:i};return e.h-=i,a},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=e};U.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.dygraph_.getOption("xValueParser")||function(r){return r},i=0;i<e.length;i++){var a={};if(!e[i].xval&&e[i].x===void 0){console.error("Annotations must have an 'x' property");return}if(e[i].icon&&!(e[i].hasOwnProperty("width")&&e[i].hasOwnProperty("height"))){console.error("Must set width and height when setting annotation.icon property");return}B(a,e[i]),a.xval||(a.xval=t(a.x)),this.annotations.push(a)}};U.prototype.setXTicks=function(e){this.xTicks_=e};U.prototype.setYAxes=function(e){this.yAxes_=e};U.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()};U.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this._xAxis.minval=e[0],this._xAxis.maxval=e[1];var t=e[1]-e[0];this._xAxis.scale=t!==0?1/t:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=M(this._xAxis.maxval)-M(this._xAxis.minval),this._xAxis.xlogscale=this._xAxis.xlogrange!==0?1/this._xAxis.xlogrange:1);for(var i=0;i<this.yAxes_.length;i++){var a=this.yAxes_[i];a.minyval=a.computedValueRange[0],a.maxyval=a.computedValueRange[1],a.yrange=a.maxyval-a.minyval,a.yscale=a.yrange!==0?1/a.yrange:1,(this.dygraph_.getOption("logscale")||a.logscale)&&(a.ylogrange=M(a.maxyval)-M(a.minyval),a.ylogscale=a.ylogrange!==0?1/a.ylogrange:1,(!isFinite(a.ylogrange)||isNaN(a.ylogrange))&&console.error("axis "+i+" of graph at "+a.g+" can't be displayed in log scale for range ["+a.minyval+" - "+a.maxyval+"]"))}};U.calcXNormal_=function(e,t,i){return i?(M(e)-M(t.minval))*t.xlogscale:(e-t.minval)*t.scale};U.calcYNormal_=function(e,t,i){if(i){var a=1-(M(t)-M(e.minyval))*e.ylogscale;return isFinite(a)?a:NaN}else return 1-(t-e.minyval)*e.yscale};U.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),t=this.dygraph_.getOptionForAxis("logscale","x"),i=0;i<this.points.length;i++){for(var a=this.points[i],r=this.setNames[i],n=this.dygraph_.getOption("connectSeparatedPoints",r),s=this.dygraph_.axisPropertiesForSeries(r),l=this.dygraph_.attributes_.getForSeries("logscale",r),o=0;o<a.length;o++){var h=a[o];h.x=U.calcXNormal_(h.xval,this._xAxis,t);var u=h.yval;e&&(h.y_stacked=U.calcYNormal_(s,h.yval_stacked,l),u!==null&&!isNaN(u)&&(u=h.yval_stacked)),u===null&&(u=NaN,n||(h.yval=NaN)),h.y=U.calcYNormal_(s,u,l)}this.dygraph_.dataHandler_.onLineEvaluated(a,s,l)}};U.prototype._evaluateLineTicks=function(){var e,t,i,a,r,n;for(this.xticks=[],e=0;e<this.xTicks_.length;e++)t=this.xTicks_[e],i=t.label,n=!("label_v"in t),r=n?t.v:t.label_v,a=this.dygraph_.toPercentXCoord(r),a>=0&&a<1&&this.xticks.push({pos:a,label:i,has_tick:n});for(this.yticks=[],e=0;e<this.yAxes_.length;e++)for(var s=this.yAxes_[e],l=0;l<s.ticks.length;l++)t=s.ticks[l],i=t.label,n=!("label_v"in t),r=n?t.v:t.label_v,a=this.dygraph_.toPercentYCoord(r,e),a>0&&a<=1&&this.yticks.push({axis:e,pos:a,label:i,has_tick:n})};U.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;e<this.annotations.length;e++){var i=this.annotations[e];t[i.xval+","+i.series]=i}if(this.annotated_points=[],!(!this.annotations||!this.annotations.length))for(var a=0;a<this.points.length;a++){var r=this.points[a];for(e=0;e<r.length;e++){var n=r[e],s=n.xval+","+n.name;s in t&&(n.annotation=t[s],this.annotated_points.push(n),delete t[s])}}};U.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]};var He=U;var P=function(e,t,i,a){if(this.dygraph_=e,this.layout=a,this.element=t,this.elementContext=i,this.height=e.height_,this.width=e.width_,!ii(this.element))throw"Canvas is not supported.";this.area=a.getPlotArea();var r=this.dygraph_.canvas_ctx_;r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip(),r=this.dygraph_.hidden_ctx_,r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip()};P.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)};P.prototype.render=function(){this._updatePoints(),this._renderLineChart()};P._getIteratorPredicate=function(e){return e?P._predicateThatSkipsEmptyPoints:null};P._predicateThatSkipsEmptyPoints=function(e,t){return e[t].yval!==null};P._drawStyledLine=function(e,t,i,a,r,n,s){var l=e.dygraph,o=l.getBooleanOption("stepPlot",e.setName);le(a)||(a=null);var h=l.getBooleanOption("drawGapEdgePoints",e.setName),u=e.points,d=e.setName,c=$e(u,0,u.length,P._getIteratorPredicate(l.getBooleanOption("connectSeparatedPoints",d))),f=a&&a.length>=2,p=e.drawingContext;p.save(),f&&p.setLineDash&&p.setLineDash(a);var v=P._drawSeries(e,c,i,s,r,h,o,t);P._drawPointsOnLine(e,v,n,t,s),f&&p.setLineDash&&p.setLineDash([]),p.restore()};P._drawSeries=function(e,t,i,a,r,n,s,l){var o=null,h=null,u=null,d,c,f=[],p=!0,v=e.drawingContext;v.beginPath(),v.strokeStyle=l,v.lineWidth=i;for(var y=t.array_,m=t.end_,_=t.predicate_,b=t.start_;b<m;b++){if(c=y[b],_){for(;b<m&&!_(y,b);)b++;if(b==m)break;c=y[b]}if(c.canvasy===null||c.canvasy!=c.canvasy)s&&o!==null&&(v.moveTo(o,h),v.lineTo(c.canvasx,h)),o=h=null;else{if(d=!1,n||o===null){t.nextIdx_=b,t.next(),u=t.hasNext?t.peek.canvasy:null;var w=u===null||u!=u;d=o===null&&w,n&&(!p&&o===null||t.hasNext&&w)&&(d=!0)}o!==null?i&&(s&&(v.moveTo(o,h),v.lineTo(c.canvasx,h)),v.lineTo(c.canvasx,c.canvasy)):v.moveTo(c.canvasx,c.canvasy),(r||d)&&f.push([c.canvasx,c.canvasy,c.idx]),o=c.canvasx,h=c.canvasy}p=!1}return v.stroke(),f};P._drawPointsOnLine=function(e,t,i,a,r){for(var n=e.drawingContext,s=0;s<t.length;s++){var l=t[s];n.save(),i.call(e.dygraph,e.dygraph,e.setName,n,l[0],l[1],a,r,l[2]),n.restore()}};P.prototype._updatePoints=function(){for(var e=this.layout.points,t=e.length;t--;)for(var i=e[t],a=i.length;a--;){var r=i[a];r.canvasx=this.area.w*r.x+this.area.x,r.canvasy=this.area.h*r.y+this.area.y}};P.prototype._renderLineChart=function(e,t){var i=t||this.elementContext,a,r=this.layout.points,n=this.layout.setNames,s;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),o=l;le(o)||(o=[o]);var h={};for(a=0;a<n.length;a++){s=n[a];var u=this.dygraph_.getOption("plotter",s);u!=l&&(h[s]=u)}for(a=0;a<o.length;a++)for(var d=o[a],c=a==o.length-1,f=0;f<r.length;f++)if(s=n[f],!(e&&s!=e)){var p=r[f],v=d;if(s in h)if(c)v=h[s];else continue;var y=this.colors[s],m=this.dygraph_.getOption("strokeWidth",s);i.save(),i.strokeStyle=y,i.lineWidth=m,v({points:p,setName:s,drawingContext:i,color:y,strokeWidth:m,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(s),plotArea:this.area,seriesIndex:f,seriesCount:r.length,singleSeriesName:e,allSeriesPoints:r}),i.restore()}};P._Plotters={linePlotter:function(e){P._linePlotter(e)},fillPlotter:function(e){P._fillPlotter(e)},errorPlotter:function(e){P._errorPlotter(e)}};P._linePlotter=function(e){var t=e.dygraph,i=e.setName,a=e.strokeWidth,r=t.getNumericOption("strokeBorderWidth",i),n=t.getOption("drawPointCallback",i)||Fe.DEFAULT,s=t.getOption("strokePattern",i),l=t.getBooleanOption("drawPoints",i),o=t.getNumericOption("pointSize",i);r&&a&&P._drawStyledLine(e,t.getOption("strokeBorderColor",i),a+2*r,s,l,n,o),P._drawStyledLine(e,e.color,a,s,l,n,o)};P._errorPlotter=function(e){var t=e.dygraph,i=e.setName,a=t.getBooleanOption("errorBars")||t.getBooleanOption("customBars");if(a){var r=t.getBooleanOption("fillGraph",i);r&&console.warn("Can't use fillGraph option with customBars or errorBars option");var n=e.drawingContext,s=e.color,l=t.getNumericOption("fillAlpha",i),o=t.getBooleanOption("stepPlot",i),h=e.points,u=$e(h,0,h.length,P._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",i))),d,c=NaN,f=NaN,p=[-1,-1],v=De(s),y="rgba("+v.r+","+v.g+","+v.b+","+l+")";n.fillStyle=y,n.beginPath();for(var m=function(b){return b==null||isNaN(b)};u.hasNext;){var _=u.next();if(!o&&m(_.y)||o&&!isNaN(f)&&m(f)){c=NaN;continue}d=[_.y_bottom,_.y_top],o&&(f=_.y),isNaN(d[0])&&(d[0]=_.y),isNaN(d[1])&&(d[1]=_.y),d[0]=e.plotArea.h*d[0]+e.plotArea.y,d[1]=e.plotArea.h*d[1]+e.plotArea.y,isNaN(c)||(o?(n.moveTo(c,p[0]),n.lineTo(_.canvasx,p[0]),n.lineTo(_.canvasx,p[1])):(n.moveTo(c,p[0]),n.lineTo(_.canvasx,d[0]),n.lineTo(_.canvasx,d[1])),n.lineTo(c,p[1]),n.closePath()),p=d,c=_.canvasx}n.fill()}};P._fastCanvasProxy=function(e){var t=[],i=null,a=null,r=1,n=2,s=0,l=function(u){if(!(t.length<=1)){for(var d=t.length-1;d>0;d--){var c=t[d];if(c[0]==n){var f=t[d-1];f[1]==c[1]&&f[2]==c[2]&&t.splice(d,1)}}for(var d=0;d<t.length-1;){var c=t[d];c[0]==n&&t[d+1][0]==n?t.splice(d,1):d++}if(t.length>2&&!u){var p=0;t[0][0]==n&&p++;for(var v=null,y=null,d=p;d<t.length;d++){var c=t[d];if(c[0]==r)if(v===null&&y===null)v=d,y=d;else{var m=c[2];m<t[v][2]?v=d:m>t[y][2]&&(y=d)}}var _=t[v],b=t[y];t.splice(p,t.length-p),v<y?(t.push(_),t.push(b)):(v>y&&t.push(b),t.push(_))}}},o=function(u){l(u);for(var d=0,c=t.length;d<c;d++){var f=t[d];f[0]==r?e.lineTo(f[1],f[2]):f[0]==n&&e.moveTo(f[1],f[2])}t.length&&(a=t[t.length-1][1]),s+=t.length,t=[]},h=function(u,d,c){var f=Math.round(d);if(i===null||f!=i){var p=i-a>1,v=f-i>1,y=p||v;o(y),i=f}t.push([u,d,c])};return{moveTo:function(u,d){h(n,u,d)},lineTo:function(u,d){h(r,u,d)},stroke:function(){o(!0),e.stroke()},fill:function(){o(!0),e.fill()},beginPath:function(){o(!0),e.beginPath()},closePath:function(){o(!0),e.closePath()},_count:function(){return s}}};P._fillPlotter=function(e){if(!e.singleSeriesName&&e.seriesIndex===0){for(var t=e.dygraph,i=t.getLabels().slice(1),a=i.length;a>=0;a--)t.visibility()[a]||i.splice(a,1);var r=function(){for(var q=0;q<i.length;q++)if(t.getBooleanOption("fillGraph",i[q]))return!0;return!1}();if(r)for(var n=e.plotArea,s=e.allSeriesPoints,l=s.length,o=t.getBooleanOption("stackedGraph"),h=t.getColors(),u={},d,c,f=function(q,Si,Ti,zt){if(q.lineTo(Si,Ti),o)for(var lt=zt.length-1;lt>=0;lt--){var Vt=zt[lt];q.lineTo(Vt[0],Vt[1])}},p=l-1;p>=0;p--){var v=e.drawingContext,y=i[p];if(t.getBooleanOption("fillGraph",y)){var m=t.getNumericOption("fillAlpha",y),_=t.getBooleanOption("stepPlot",y),b=h[p],w=t.axisPropertiesForSeries(y),S=1+w.minyval*w.yscale;S<0?S=0:S>1&&(S=1),S=n.h*S+n.y;var R=s[p],x=$e(R,0,R.length,P._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",y))),T=NaN,L=[-1,-1],A,C=De(b),z="rgba("+C.r+","+C.g+","+C.b+","+m+")";v.fillStyle=z,v.beginPath();var I,W=!0;(R.length>2*t.width_||J.FORCE_FAST_PROXY)&&(v=P._fastCanvasProxy(v));for(var H=[],N;x.hasNext;){if(N=x.next(),!Qt(N.y)&&!_){f(v,T,L[1],H),H=[],T=NaN,N.y_stacked!==null&&!isNaN(N.y_stacked)&&(u[N.canvasx]=n.h*N.y_stacked+n.y);continue}if(o){if(!W&&I==N.xval)continue;W=!1,I=N.xval,d=u[N.canvasx];var ge;d===void 0?ge=S:c?ge=d[0]:ge=d,A=[N.canvasy,ge],_?L[0]===-1?u[N.canvasx]=[N.canvasy,S]:u[N.canvasx]=[N.canvasy,L[0]]:u[N.canvasx]=N.canvasy}else isNaN(N.canvasy)&&_?A=[n.y+n.h,S]:A=[N.canvasy,S];isNaN(T)?(v.moveTo(N.canvasx,A[1]),v.lineTo(N.canvasx,A[0])):(_&&v.lineTo(N.canvasx,L[0]),v.lineTo(N.canvasx,A[0]),o&&(H.push([T,L[1]]),c&&d?H.push([N.canvasx,d[1]]):H.push([N.canvasx,A[1]]))),L=A,T=N.canvasx}c=_,A&&N&&(f(v,N.canvasx,A[1],H),H=[]),v.fill()}}}};var ue=P;var Hi=100,k={};k.maybeTreatMouseOpAsClick=function(e,t,i){i.dragEndX=we(e,i),i.dragEndY=Ae(e,i);var a=Math.abs(i.dragEndX-i.dragStartX),r=Math.abs(i.dragEndY-i.dragStartY);a<2&&r<2&&t.lastx_!==void 0&&t.lastx_!==null&&k.treatMouseOpAsClick(t,e,i),i.regionWidth=a,i.regionHeight=r};k.startPan=function(e,t,i){var a,r;i.isPanning=!0;var n=t.xAxisRange();if(t.getOptionForAxis("logscale","x")?(i.initialLeftmostDate=M(n[0]),i.dateRange=M(n[1])-M(n[0])):(i.initialLeftmostDate=n[0],i.dateRange=n[1]-n[0]),i.xUnitsPerPixel=i.dateRange/(t.plotter_.area.w-1),t.getNumericOption("panEdgeFraction")){var s=t.width_*t.getNumericOption("panEdgeFraction"),l=t.xAxisExtremes(),o=t.toDomXCoord(l[0])-s,h=t.toDomXCoord(l[1])+s,u=t.toDataXCoord(o),d=t.toDataXCoord(h);i.boundedDates=[u,d];var c=[],f=t.height_*t.getNumericOption("panEdgeFraction");for(a=0;a<t.axes_.length;a++){r=t.axes_[a];var p=r.extremeRange,v=t.toDomYCoord(p[0],a)+f,y=t.toDomYCoord(p[1],a)-f,m=t.toDataYCoord(v,a),_=t.toDataYCoord(y,a);c[a]=[m,_]}i.boundedValues=c}else i.boundedDates=null,i.boundedValues=null;for(i.is2DPan=!1,i.axes=[],a=0;a<t.axes_.length;a++){r=t.axes_[a];var b={},w=t.yAxisRange(a),S=t.attributes_.getForAxis("logscale",a);S?(b.initialTopValue=M(w[1]),b.dragValueRange=M(w[1])-M(w[0])):(b.initialTopValue=w[1],b.dragValueRange=w[1]-w[0]),b.unitsPerPixel=b.dragValueRange/(t.plotter_.area.h-1),i.axes.push(b),r.valueRange&&(i.is2DPan=!0)}};k.movePan=function(e,t,i){i.dragEndX=we(e,i),i.dragEndY=Ae(e,i);var a=i.initialLeftmostDate-(i.dragEndX-i.dragStartX)*i.xUnitsPerPixel;i.boundedDates&&(a=Math.max(a,i.boundedDates[0]));var r=a+i.dateRange;if(i.boundedDates&&r>i.boundedDates[1]&&(a=a-(r-i.boundedDates[1]),r=a+i.dateRange),t.getOptionForAxis("logscale","x")?t.dateWindow_=[Math.pow(se,a),Math.pow(se,r)]:t.dateWindow_=[a,r],i.is2DPan)for(var n=i.dragEndY-i.dragStartY,s=0;s<t.axes_.length;s++){var l=t.axes_[s],o=i.axes[s],h=n*o.unitsPerPixel,u=i.boundedValues?i.boundedValues[s]:null,d=o.initialTopValue+h;u&&(d=Math.min(d,u[1]));var c=d-o.dragValueRange;u&&c<u[0]&&(d=d-(c-u[0]),c=d-o.dragValueRange),t.attributes_.getForAxis("logscale",s)?l.valueRange=[Math.pow(se,c),Math.pow(se,d)]:l.valueRange=[c,d]}t.drawGraph_(!1)};k.endPan=k.maybeTreatMouseOpAsClick;k.startZoom=function(e,t,i){i.isZooming=!0,i.zoomMoved=!1};k.moveZoom=function(e,t,i){i.zoomMoved=!0,i.dragEndX=we(e,i),i.dragEndY=Ae(e,i);var a=Math.abs(i.dragStartX-i.dragEndX),r=Math.abs(i.dragStartY-i.dragEndY);i.dragDirection=a<r/2?me:ye,t.drawZoomRect_(i.dragDirection,i.dragStartX,i.dragEndX,i.dragStartY,i.dragEndY,i.prevDragDirection,i.prevEndX,i.prevEndY),i.prevEndX=i.dragEndX,i.prevEndY=i.dragEndY,i.prevDragDirection=i.dragDirection};k.treatMouseOpAsClick=function(e,t,i){for(var a=e.getFunctionOption("clickCallback"),r=e.getFunctionOption("pointClickCallback"),n=null,s=-1,l=Number.MAX_VALUE,o=0;o<e.selPoints_.length;o++){var h=e.selPoints_[o],u=Math.pow(h.canvasx-i.dragEndX,2)+Math.pow(h.canvasy-i.dragEndY,2);!isNaN(u)&&(s==-1||u<l)&&(l=u,s=o)}var d=e.getNumericOption("highlightCircleSize")+2;if(l<=d*d&&(n=e.selPoints_[s]),n){var f={cancelable:!0,point:n,canvasx:i.dragEndX,canvasy:i.dragEndY},c=e.cascadeEvents_("pointClick",f);if(c)return;r&&r.call(e,t,n)}var f={cancelable:!0,xval:e.lastx_,pts:e.selPoints_,canvasx:i.dragEndX,canvasy:i.dragEndY};e.cascadeEvents_("click",f)||a&&a.call(e,t,e.lastx_,e.selPoints_)};k.endZoom=function(e,t,i){t.clearZoomRect_(),i.isZooming=!1,k.maybeTreatMouseOpAsClick(e,t,i);var a=t.getArea();if(i.regionWidth>=10&&i.dragDirection==ye){var r=Math.min(i.dragStartX,i.dragEndX),n=Math.max(i.dragStartX,i.dragEndX);r=Math.max(r,a.x),n=Math.min(n,a.x+a.w),r<n&&t.doZoomX_(r,n),i.cancelNextDblclick=!0}else if(i.regionHeight>=10&&i.dragDirection==me){var s=Math.min(i.dragStartY,i.dragEndY),l=Math.max(i.dragStartY,i.dragEndY);s=Math.max(s,a.y),l=Math.min(l,a.y+a.h),s<l&&t.doZoomY_(s,l),i.cancelNextDblclick=!0}i.dragStartX=null,i.dragStartY=null};k.startTouch=function(e,t,i){e.preventDefault(),e.touches.length>1&&(i.startTimeForDoubleTapMs=null);for(var a=[],r=0;r<e.touches.length;r++){var n=e.touches[r],s=n.target.getBoundingClientRect();a.push({pageX:n.pageX,pageY:n.pageY,dataX:t.toDataXCoord(n.clientX-s.left),dataY:t.toDataYCoord(n.clientY-s.top)})}if(i.initialTouches=a,a.length==1)i.initialPinchCenter=a[0],i.touchDirections={x:!0,y:!0};else if(a.length>=2){i.initialPinchCenter={pageX:.5*(a[0].pageX+a[1].pageX),pageY:.5*(a[0].pageY+a[1].pageY),dataX:.5*(a[0].dataX+a[1].dataX),dataY:.5*(a[0].dataY+a[1].dataY)};var l=180/Math.PI*Math.atan2(i.initialPinchCenter.pageY-a[0].pageY,a[0].pageX-i.initialPinchCenter.pageX);l=Math.abs(l),l>90&&(l=90-l),i.touchDirections={x:l<90-45/2,y:l>45/2}}i.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}};k.moveTouch=function(e,t,i){i.startTimeForDoubleTapMs=null;var a,r=[];for(a=0;a<e.touches.length;a++){var n=e.touches[a];r.push({pageX:n.pageX,pageY:n.pageY})}var s=i.initialTouches,l,o=i.initialPinchCenter;r.length==1?l=r[0]:l={pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY)};var h={pageX:l.pageX-o.pageX,pageY:l.pageY-o.pageY},u=i.initialRange.x[1]-i.initialRange.x[0],d=i.initialRange.y[0]-i.initialRange.y[1];h.dataX=h.pageX/t.plotter_.area.w*u,h.dataY=h.pageY/t.plotter_.area.h*d;var c,f;if(r.length==1)c=1,f=1;else if(r.length>=2){var p=s[1].pageX-o.pageX;c=(r[1].pageX-l.pageX)/p;var v=s[1].pageY-o.pageY;f=(r[1].pageY-l.pageY)/v}c=Math.min(8,Math.max(.125,c)),f=Math.min(8,Math.max(.125,f));var y=!1;if(i.touchDirections.x){var m=o.dataX-h.dataX/c;t.dateWindow_=[m+(i.initialRange.x[0]-o.dataX)/c,m+(i.initialRange.x[1]-o.dataX)/c],y=!0}if(i.touchDirections.y)for(a=0;a<1;a++){var _=t.axes_[a],b=t.attributes_.getForAxis("logscale",a);if(!b){var m=o.dataY-h.dataY/f;_.valueRange=[m+(i.initialRange.y[0]-o.dataY)/f,m+(i.initialRange.y[1]-o.dataY)/f],y=!0}}if(t.drawGraph_(!1),y&&r.length>1&&t.getFunctionOption("zoomCallback")){var w=t.xAxisRange();t.getFunctionOption("zoomCallback").call(t,w[0],w[1],t.yAxisRanges())}};k.endTouch=function(e,t,i){if(e.touches.length!==0)k.startTouch(e,t,i);else if(e.changedTouches.length==1){var a=new Date().getTime(),r=e.changedTouches[0];i.startTimeForDoubleTapMs&&a-i.startTimeForDoubleTapMs<500&&i.doubleTapX&&Math.abs(i.doubleTapX-r.screenX)<50&&i.doubleTapY&&Math.abs(i.doubleTapY-r.screenY)<50?t.resetZoom():(i.startTimeForDoubleTapMs=a,i.doubleTapX=r.screenX,i.doubleTapY=r.screenY)}};var ni=function(e,t,i){return e<t?t-e:e>i?e-i:0},Ui=function(e,t){var i=te(t.canvas_),a={left:i.x,right:i.x+t.canvas_.offsetWidth,top:i.y,bottom:i.y+t.canvas_.offsetHeight},r={x:be(e),y:xe(e)},n=ni(r.x,a.left,a.right),s=ni(r.y,a.top,a.bottom);return Math.max(n,s)};k.defaultModel={mousedown:function(e,t,i){if(!(e.button&&e.button==2)){i.initializeMouseDown(e,t,i),e.altKey||e.shiftKey?k.startPan(e,t,i):k.startZoom(e,t,i);var a=function(n){if(i.isZooming){var s=Ui(n,t);s<Hi?k.moveZoom(n,t,i):i.dragEndX!==null&&(i.dragEndX=null,i.dragEndY=null,t.clearZoomRect_())}else i.isPanning&&k.movePan(n,t,i)},r=function(n){i.isZooming?i.dragEndX!==null?k.endZoom(n,t,i):k.maybeTreatMouseOpAsClick(n,t,i):i.isPanning&&k.endPan(n,t,i),G(document,"mousemove",a),G(document,"mouseup",r),i.destroy()};t.addAndTrackEvent(document,"mousemove",a),t.addAndTrackEvent(document,"mouseup",r)}},willDestroyContextMyself:!0,touchstart:function(e,t,i){k.startTouch(e,t,i)},touchmove:function(e,t,i){k.moveTouch(e,t,i)},touchend:function(e,t,i){k.endTouch(e,t,i)},dblclick:function(e,t,i){if(i.cancelNextDblclick){i.cancelNextDblclick=!1;return}var a={canvasx:i.dragEndX,canvasy:i.dragEndY,cancelable:!0};t.cascadeEvents_("dblclick",a)||e.altKey||e.shiftKey||t.resetZoom()}};k.nonInteractiveModel_={mousedown:function(e,t,i){i.initializeMouseDown(e,t,i)},mouseup:k.maybeTreatMouseOpAsClick};k.dragIsPanInteractionModel={mousedown:function(e,t,i){i.initializeMouseDown(e,t,i),k.startPan(e,t,i)},mousemove:function(e,t,i){i.isPanning&&k.movePan(e,t,i)},mouseup:function(e,t,i){i.isPanning&&k.endPan(e,t,i)}};var X=k;var zi={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,resizable:"no",legend:"onmouseover",legendFollowOffsetX:50,legendFollowOffsetY:-50,stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:X.defaultModel,animatedZooms:!1,animateBackgroundFade:!0,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[ue._fillPlotter,ue._errorPlotter,ue._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:he,valueFormatter:Ee,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:re},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:Je,axisLabelFormatter:Ie,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:Q},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:Je,axisLabelFormatter:Ie,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:Q}}},Ce=zi;var V=function(e){this.dygraph_=e,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};V.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};V.axisToIndex_=function(e){if(typeof e=="string"){if(V.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return V.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if(typeof e=="number"){if(e===0||e===1)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0};V.prototype.reparseSeries=function(){var e=this.get("labels");if(e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var t=this.user_.series||{},i=0;i<this.labels_.length;i++){var a=this.labels_[i],r=t[a]||{},n=V.axisToIndex_(r.axis);this.series_[a]={idx:i,yAxis:n,options:r},this.yAxes_[n]?this.yAxes_[n].series.push(a):this.yAxes_[n]={series:[a],options:{}}}var s=this.user_.axes||{};B(this.yAxes_[0].options,s.y||{}),this.yAxes_.length>1&&B(this.yAxes_[1].options,s.y2||{}),B(this.xAxis_.options,s.x||{}),typeof process<"u"}};V.prototype.get=function(e){var t=this.getGlobalUser_(e);return t!==null?t:this.getGlobalDefault_(e)};V.prototype.getGlobalUser_=function(e){return this.user_.hasOwnProperty(e)?this.user_[e]:null};V.prototype.getGlobalDefault_=function(e){return this.global_.hasOwnProperty(e)?this.global_[e]:Ce.hasOwnProperty(e)?Ce[e]:null};V.prototype.getForAxis=function(e,t){var i,a;if(typeof t=="number")i=t,a=i===0?"y":"y2";else{if(t=="y1"&&(t="y"),t=="y")i=0;else if(t=="y2")i=1;else if(t=="x")i=-1;else throw"Unknown axis "+t;a=t}var r=i==-1?this.xAxis_:this.yAxes_[i];if(r){var n=r.options;if(n.hasOwnProperty(e))return n[e]}if(!(t==="x"&&e==="logscale")){var s=this.getGlobalUser_(e);if(s!==null)return s}var l=Ce.axes[a];return l.hasOwnProperty(e)?l[e]:this.getGlobalDefault_(e)};V.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(e))return this.highlightSeries_[e];if(!this.series_.hasOwnProperty(t))throw"Unknown series: "+t;var i=this.series_[t],a=i.options;return a.hasOwnProperty(e)?a[e]:this.getForAxis(e,i.yAxis)};V.prototype.numAxes=function(){return this.yAxes_.length};V.prototype.axisForSeries=function(e){return this.series_[e].yAxis};V.prototype.axisOptions=function(e){return this.yAxes_[e].options};V.prototype.seriesForAxis=function(e){return this.yAxes_[e].series};V.prototype.seriesNames=function(){return this.labels_};var si=V;function wt(){this.tarps=[]}wt.prototype.cover=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var i=e[t],a=te(i),r=a.x,n=a.y,s=i.offsetWidth,l=i.offsetHeight,o=document.createElement("div");o.style.position="absolute",o.style.left=r+"px",o.style.top=n+"px",o.style.width=s+"px",o.style.height=l+"px",o.style.zIndex=999,document.body.appendChild(o),this.tarps.push(o)}};wt.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++)this.tarps[e].parentNode.removeChild(this.tarps[e]);this.tarps=[]};var Qe=wt;var oi=function(){},Z=oi;Z.X=0;Z.Y=1;Z.EXTRAS=2;Z.prototype.extractSeries=function(e,t,i){};Z.prototype.seriesToPoints=function(e,t,i){for(var a=[],r=0;r<e.length;++r){var n=e[r],s=n[1],l=s===null?null:Z.parseFloat(s),o={x:NaN,y:NaN,xval:Z.parseFloat(n[0]),yval:l,name:t,idx:r+i,canvasx:NaN,canvasy:NaN};a.push(o)}return this.onPointsCreated_(e,a),a};Z.prototype.onPointsCreated_=function(e,t){};Z.prototype.rollingAverage=function(e,t,i,a){};Z.prototype.getExtremeYValues=function(e,t,i){};Z.prototype.onLineEvaluated=function(e,t,i){};Z.parseFloat=function(e){return e===null?NaN:e};var de=oi;var Ue=function(){};Ue.prototype=new de;Ue.prototype.extractSeries=function(e,t,i){var a=[];let r=i.get("labels")[t],n=i.getForSeries("logscale",r);for(var s=0;s<e.length;s++){var l=e[s][0],o=e[s][t];n&&o<=0&&(o=null),a.push([l,o])}return a};Ue.prototype.rollingAverage=function(e,t,i,n){t=Math.min(t,e.length);var r=[],n,s,l,o,h;if(t==1)return e;for(n=0;n<e.length;n++){for(o=0,h=0,s=Math.max(0,n-t+1);s<n+1;s++)l=e[s][1],!(l===null||isNaN(l))&&(h++,o+=e[s][1]);h?r[n]=[e[n][0],o/h]:r[n]=[e[n][0],null]}return r};Ue.prototype.getExtremeYValues=function(t,i,a){for(var r=null,n=null,s,l=0,o=t.length-1,h=l;h<=o;h++)s=t[h][1],!(s===null||isNaN(s))&&((n===null||s>n)&&(n=s),(r===null||s<r)&&(r=s));return[r,n]};var ze=Ue;var ce=function(){de.call(this)};ce.prototype=new de;ce.prototype.extractSeries=function(e,t,i){};ce.prototype.rollingAverage=function(e,t,i,a){};ce.prototype.onPointsCreated_=function(e,t){for(var i=0;i<e.length;++i){var a=e[i],r=t[i];r.y_top=NaN,r.y_bottom=NaN,r.yval_minus=de.parseFloat(a[2][0]),r.yval_plus=de.parseFloat(a[2][1])}};ce.prototype.getExtremeYValues=function(e,t,i){for(var a=null,r=null,n,s=0,l=e.length-1,o=s;o<=l;o++)if(n=e[o][1],!(n===null||isNaN(n))){var h=e[o][2][0],u=e[o][2][1];h>n&&(h=n),u<n&&(u=n),(r===null||u>r)&&(r=u),(a===null||h<a)&&(a=h)}return[a,r]};ce.prototype.onLineEvaluated=function(e,t,i){for(var a,r=0;r<e.length;r++)a=e[r],a.y_top=He.calcYNormal_(t,a.yval_minus,i),a.y_bottom=He.calcYNormal_(t,a.yval_plus,i)};var ie=ce;var je=function(){};je.prototype=new ie;je.prototype.extractSeries=function(e,t,i){var a=[],r,n,s,l;let o=i.get("labels")[t],h=i.getForSeries("logscale",o),u=i.getForSeries("sigma",o);for(var d=0;d<e.length;d++)r=e[d][0],l=e[d][t],h&&l!==null&&(l[0]<=0||l[0]-u*l[1]<=0)&&(l=null),l!==null?(n=l[0],n!==null&&!isNaN(n)?(s=u*l[1],a.push([r,n,[n-s,n+s,l[1]]])):a.push([r,n,[n,n,n]])):a.push([r,null,[null,null,null]]);return a};je.prototype.rollingAverage=function(e,t,i,l){t=Math.min(t,e.length);var r=[];let n=i.get("labels")[l],s=i.getForSeries("sigma",n);var l,o,h,u,d,c,f,p,v;for(l=0;l<e.length;l++){for(d=0,p=0,c=0,o=Math.max(0,l-t+1);o<l+1;o++)h=e[o][1],!(h===null||isNaN(h))&&(c++,d+=h,p+=Math.pow(e[o][2][2],2));c?(f=Math.sqrt(p)/c,v=d/c,r[l]=[e[l][0],v,[v-s*f,v+s*f]]):(u=t==1?e[l][1]:null,r[l]=[e[l][0],u,[u,u]])}return r};var At=je;var et=function(){};et.prototype=new ie;et.prototype.extractSeries=function(e,t,i){var a=[],r,n,s;let l=i.get("labels")[t],o=i.getForSeries("logscale",l);for(var h=0;h<e.length;h++)r=e[h][0],s=e[h][t],o&&s!==null&&(s[0]<=0||s[1]<=0||s[2]<=0)&&(s=null),s!==null?(n=s[1],n!==null&&!isNaN(n)?a.push([r,n,[s[0],s[2]]]):a.push([r,n,[n,n]])):a.push([r,null,[null,null]]);return a};et.prototype.rollingAverage=function(e,t,i,u){t=Math.min(t,e.length);var r=[],n,s,l,o,h,u,d;for(s=0,o=0,l=0,h=0,u=0;u<e.length;u++){if(n=e[u][1],d=e[u][2],r[u]=e[u],n!==null&&!isNaN(n)&&(s+=d[0],o+=n,l+=d[1],h+=1),u-t>=0){var c=e[u-t];c[1]!==null&&!isNaN(c[1])&&(s-=c[2][0],o-=c[1],l-=c[2][1],h-=1)}h?r[u]=[e[u][0],1*o/h,[1*s/h,1*l/h]]:r[u]=[e[u][0],null,[null,null]]}return r};var St=et;var tt=function(){};tt.prototype=new ze;tt.prototype.extractSeries=function(e,t,i){var a=[],r,n,s,l,o,h,u=100;let d=i.get("labels")[t],c=i.getForSeries("logscale",d);for(var f=0;f<e.length;f++)r=e[f][0],s=e[f][t],c&&s!==null&&(s[0]<=0||s[1]<=0)&&(s=null),s!==null?(l=s[0],o=s[1],l!==null&&!isNaN(l)?(h=o?l/o:0,n=u*h,a.push([r,n,[l,o]])):a.push([r,l,[l,o]])):a.push([r,null,[null,null]]);return a};tt.prototype.rollingAverage=function(e,t,i,n){t=Math.min(t,e.length);var r=[],n,s=0,l=0,o=100;for(n=0;n<e.length;n++){s+=e[n][2][0],l+=e[n][2][1],n-t>=0&&(s-=e[n-t][2][0],l-=e[n-t][2][1]);var h=e[n][0],u=l?s/l:0;r[n]=[h,o*u]}return r};var Tt=tt;var it=function(){};it.prototype=new ie;it.prototype.extractSeries=function(e,t,i){var a=[],r,n,s,l,o,h,u,d,c=100;let f=i.get("labels")[t],p=i.getForSeries("logscale",f),v=i.getForSeries("sigma",f);for(var y=0;y<e.length;y++)r=e[y][0],s=e[y][t],p&&s!==null&&(s[0]<=0||s[1]<=0)&&(s=null),s!==null?(l=s[0],o=s[1],l!==null&&!isNaN(l)?(h=o?l/o:0,u=o?v*Math.sqrt(h*(1-h)/o):1,d=c*u,n=c*h,a.push([r,n,[n-d,n+d,l,o]])):a.push([r,l,[l,l,l,o]])):a.push([r,null,[null,null,null,null]]);return a};it.prototype.rollingAverage=function(e,t,i,u){t=Math.min(t,e.length);var r=[];let n=i.get("labels")[u],s=i.getForSeries("sigma",n),l=i.getForSeries("wilsonInterval",n);var o,h,u,d,c=0,f=0,p=100;for(u=0;u<e.length;u++){c+=e[u][2][2],f+=e[u][2][3],u-t>=0&&(c-=e[u-t][2][2],f-=e[u-t][2][3]);var v=e[u][0],y=f?c/f:0;if(l)if(f){var m=y<0?0:y,_=f,b=s*Math.sqrt(m*(1-m)/_+s*s/(4*_*_)),w=1+s*s/f;o=(m+s*s/(2*f)-b)/w,h=(m+s*s/(2*f)+b)/w,r[u]=[v,m*p,[o*p,h*p]]}else r[u]=[v,0,[0,0]];else d=f?s*Math.sqrt(y*(1-y)/f):1,r[u]=[v,p*y,[p*(y-d),p*(y+d)]]}return r};var Dt=it;var fe=function(){this.annotations_=[]};fe.prototype.toString=function(){return"Annotations Plugin"};fe.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};fe.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];t.parentNode&&t.parentNode.removeChild(t),this.annotations_[e]=null}this.annotations_=[]};fe.prototype.clearChart=function(e){this.detachLabels()};fe.prototype.didDrawChart=function(e){var t=e.dygraph,i=t.layout_.annotated_points;if(!(!i||i.length===0))for(var a=e.canvas.parentNode,r=function(w,S,R){return function(x){var T=R.annotation;T.hasOwnProperty(w)?T[w](T,R,t,x):t.getOption(S)&&t.getOption(S)(T,R,t,x)}},n=e.dygraph.getArea(),s={},l=0;l<i.length;l++){var o=i[l];if(!(o.canvasx<n.x||o.canvasx>n.x+n.w||o.canvasy<n.y||o.canvasy>n.y+n.h)){var h=o.annotation,u=6;h.hasOwnProperty("tickHeight")&&(u=h.tickHeight);var d=document.createElement("div");d.style.fontSize=t.getOption("axisLabelFontSize")+"px";var c="dygraph-annotation";h.hasOwnProperty("icon")||(c+=" dygraphDefaultAnnotation dygraph-default-annotation"),h.hasOwnProperty("cssClass")&&(c+=" "+h.cssClass),d.className=c;var f=h.hasOwnProperty("width")?h.width:16,p=h.hasOwnProperty("height")?h.height:16;if(h.hasOwnProperty("icon")){var v=document.createElement("img");v.src=h.icon,v.width=f,v.height=p,d.appendChild(v)}else o.annotation.hasOwnProperty("shortText")&&d.appendChild(document.createTextNode(o.annotation.shortText));var y=o.canvasx-f/2;d.style.left=y+"px";var m=0;if(h.attachAtBottom){var _=n.y+n.h-p-u;s[y]?_-=s[y]:s[y]=0,s[y]+=u+p,m=_}else m=o.canvasy-p-u;d.style.top=m+"px",d.style.width=f+"px",d.style.height=p+"px",d.title=o.annotation.text,d.style.color=t.colorsMap_[o.name],d.style.borderColor=t.colorsMap_[o.name],h.div=d,t.addAndTrackEvent(d,"click",r("clickHandler","annotationClickHandler",o,this)),t.addAndTrackEvent(d,"mouseover",r("mouseOverHandler","annotationMouseOverHandler",o,this)),t.addAndTrackEvent(d,"mouseout",r("mouseOutHandler","annotationMouseOutHandler",o,this)),t.addAndTrackEvent(d,"dblclick",r("dblClickHandler","annotationDblClickHandler",o,this)),a.appendChild(d),this.annotations_.push(d);var b=e.drawingContext;if(b.save(),b.strokeStyle=h.hasOwnProperty("tickColor")?h.tickColor:t.colorsMap_[o.name],b.lineWidth=h.hasOwnProperty("tickWidth")?h.tickWidth:t.getOption("strokeWidth"),b.beginPath(),!h.attachAtBottom)b.moveTo(o.canvasx,o.canvasy),b.lineTo(o.canvasx,o.canvasy-2-u);else{var _=m+p;b.moveTo(o.canvasx,_),b.lineTo(o.canvasx,_+u)}b.closePath(),b.stroke(),b.restore()}}};fe.prototype.destroy=function(){this.detachLabels()};var Et=fe;var pe=function(){this.xlabels_=[],this.ylabels_=[]};pe.prototype.toString=function(){return"Axes Plugin"};pe.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};pe.prototype.layout=function(e){var t=e.dygraph;if(t.getOptionForAxis("drawAxis","y")){var i=t.getOptionForAxis("axisLabelWidth","y")+2*t.getOptionForAxis("axisTickSize","y");e.reserveSpaceLeft(i)}if(t.getOptionForAxis("drawAxis","x")){var a;t.getOption("xAxisHeight")?a=t.getOption("xAxisHeight"):a=t.getOptionForAxis("axisLabelFontSize","x")+2*t.getOptionForAxis("axisTickSize","x"),e.reserveSpaceBottom(a)}if(t.numAxes()==2){if(t.getOptionForAxis("drawAxis","y2")){var i=t.getOptionForAxis("axisLabelWidth","y2")+2*t.getOptionForAxis("axisTickSize","y2");e.reserveSpaceRight(i)}}else t.numAxes()>2&&t.error("Only two y-axes are supported at this time. (Trying to use "+t.numAxes()+")")};pe.prototype.detachLabels=function(){function e(t){for(var i=0;i<t.length;i++){var a=t[i];a.parentNode&&a.parentNode.removeChild(a)}}e(this.xlabels_),e(this.ylabels_),this.xlabels_=[],this.ylabels_=[]};pe.prototype.clearChart=function(e){this.detachLabels()};pe.prototype.willDrawChart=function(e){var t=e.dygraph;if(!t.getOptionForAxis("drawAxis","x")&&!t.getOptionForAxis("drawAxis","y")&&!t.getOptionForAxis("drawAxis","y2"))return;function i(A){return Math.round(A)+.5}function a(A){return Math.round(A)-.5}var r=e.drawingContext,n=e.canvas.parentNode,s=t.width_,l=t.height_,o,h,u,d,c,f=function(A){return{position:"absolute",fontSize:t.getOptionForAxis("axisLabelFontSize",A)+"px",width:t.getOptionForAxis("axisLabelWidth",A)+"px"}},p={x:f("x"),y:f("y"),y2:f("y2")},v=function(A,C,z){var I=document.createElement("div"),W=p[z=="y2"?"y2":C];B(I.style,W);var H=document.createElement("div");return H.className="dygraph-axis-label dygraph-axis-label-"+C+(z?" dygraph-axis-label-"+z:""),H.innerHTML=A,I.appendChild(H),I};r.save();var y=t.layout_,m=e.dygraph.plotter_.area,_=function(A){return function(C){return t.getOptionForAxis(C,A)}};let b=this;if(t.getOptionForAxis("drawAxis","y")||t.numAxes()==2&&t.getOptionForAxis("drawAxis","y2")){if(y.yticks&&y.yticks.length>0){var w=t.numAxes(),S=[_("y"),_("y2")];y.yticks.forEach(function(A){if(A.label!==void 0){h=m.x;var C=1,z="y1",I=S[0];if(A.axis==1&&(h=m.x+m.w,C=-1,z="y2",I=S[1]),!!I("drawAxis")){var W=I("axisLabelFontSize");u=m.y+A.pos*m.h,o=v(A.label,"y",w==2?z:null);var H=u-W/2;H<0&&(H=0),H+W+3>l?o.style.bottom="0":o.style.top=Math.min(H,l-2*W)+"px",A.axis===0?(o.style.left=m.x-I("axisLabelWidth")-I("axisTickSize")+"px",o.style.textAlign="right"):A.axis==1&&(o.style.left=m.x+m.w+I("axisTickSize")+"px",o.style.textAlign="left"),o.style.width=I("axisLabelWidth")+"px",n.appendChild(o),b.ylabels_.push(o)}}})}var R;if(t.getOption("drawAxesAtZero")){var x=t.toPercentXCoord(0);(x>1||x<0||isNaN(x))&&(x=0),R=i(m.x+x*m.w)}else R=i(m.x);r.strokeStyle=t.getOptionForAxis("axisLineColor","y"),r.lineWidth=t.getOptionForAxis("axisLineWidth","y"),r.beginPath(),r.moveTo(R,a(m.y)),r.lineTo(R,a(m.y+m.h)),r.closePath(),r.stroke(),t.numAxes()==2&&t.getOptionForAxis("drawAxis","y2")&&(r.strokeStyle=t.getOptionForAxis("axisLineColor","y2"),r.lineWidth=t.getOptionForAxis("axisLineWidth","y2"),r.beginPath(),r.moveTo(a(m.x+m.w),a(m.y)),r.lineTo(a(m.x+m.w),a(m.y+m.h)),r.closePath(),r.stroke())}if(t.getOptionForAxis("drawAxis","x")){if(y.xticks){var T=_("x");y.xticks.forEach(function(A){if(A.label!==void 0){h=m.x+A.pos*m.w,u=m.y+m.h,o=v(A.label,"x"),o.style.textAlign="center",o.style.top=u+T("axisTickSize")+"px";var C=h-T("axisLabelWidth")/2;C+T("axisLabelWidth")>s&&(C=s-T("axisLabelWidth"),o.style.textAlign="right"),C<0&&(C=0,o.style.textAlign="left"),o.style.left=C+"px",o.style.width=T("axisLabelWidth")+"px",n.appendChild(o),b.xlabels_.push(o)}})}r.strokeStyle=t.getOptionForAxis("axisLineColor","x"),r.lineWidth=t.getOptionForAxis("axisLineWidth","x"),r.beginPath();var L;if(t.getOption("drawAxesAtZero")){var x=t.toPercentYCoord(0,0);(x>1||x<0)&&(x=1),L=a(m.y+x*m.h)}else L=a(m.y+m.h);r.moveTo(i(m.x),L),r.lineTo(i(m.x+m.w),L),r.closePath(),r.stroke()}r.restore()};var Ct=pe;var ae=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};ae.prototype.toString=function(){return"ChartLabels Plugin"};ae.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var li=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",t};ae.prototype.detachLabels_=function(){for(var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],t=0;t<e.length;t++){var i=e[t];i&&i.parentNode&&i.parentNode.removeChild(i)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var hi=function(e,t,i,a,r){var n=document.createElement("div");n.style.position="absolute",i==1?n.style.left="0px":n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.width=t.w+"px",n.style.height=t.h+"px",n.style.fontSize=e.getOption("yLabelWidth")-2+"px";var s=document.createElement("div");s.style.position="absolute",s.style.width=t.h+"px",s.style.height=t.w+"px",s.style.top=t.h/2-t.w/2+"px",s.style.left=t.w/2-t.h/2+"px",s.className="dygraph-label-rotate-"+(i==1?"right":"left");var l=document.createElement("div");return l.className=a,l.innerHTML=r,s.appendChild(l),n.appendChild(s),n};ae.prototype.layout=function(e){this.detachLabels_();var t=e.dygraph,i=e.chart_div;if(t.getOption("title")){var a=e.reserveSpaceTop(t.getOption("titleHeight"));this.title_div_=li(a),this.title_div_.style.fontSize=t.getOption("titleHeight")-8+"px";var r=document.createElement("div");r.className="dygraph-label dygraph-title",r.innerHTML=t.getOption("title"),this.title_div_.appendChild(r),i.appendChild(this.title_div_)}if(t.getOption("xlabel")){var n=e.reserveSpaceBottom(t.getOption("xLabelHeight"));this.xlabel_div_=li(n),this.xlabel_div_.style.fontSize=t.getOption("xLabelHeight")-2+"px";var r=document.createElement("div");r.className="dygraph-label dygraph-xlabel",r.innerHTML=t.getOption("xlabel"),this.xlabel_div_.appendChild(r),i.appendChild(this.xlabel_div_)}if(t.getOption("ylabel")){var s=e.reserveSpaceLeft(0);this.ylabel_div_=hi(t,s,1,"dygraph-label dygraph-ylabel",t.getOption("ylabel")),i.appendChild(this.ylabel_div_)}if(t.getOption("y2label")&&t.numAxes()==2){var l=e.reserveSpaceRight(0);this.y2label_div_=hi(t,l,2,"dygraph-label dygraph-y2label",t.getOption("y2label")),i.appendChild(this.y2label_div_)}};ae.prototype.didDrawChart=function(e){var t=e.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=t.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label"))};ae.prototype.clearChart=function(){};ae.prototype.destroy=function(){this.detachLabels_()};var Lt=ae;var Ve=function(){};Ve.prototype.toString=function(){return"Gridline Plugin"};Ve.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}};Ve.prototype.willDrawChart=function(e){var t=e.dygraph,i=e.drawingContext,a=t.layout_,r=e.dygraph.plotter_.area;function n(m){return Math.round(m)+.5}function s(m){return Math.round(m)-.5}var l,o,h,u;if(t.getOptionForAxis("drawGrid","y")){for(var d=["y","y2"],c=[],f=[],p=[],v=[],y=[],h=0;h<d.length;h++)p[h]=t.getOptionForAxis("drawGrid",d[h]),p[h]&&(c[h]=t.getOptionForAxis("gridLineColor",d[h]),f[h]=t.getOptionForAxis("gridLineWidth",d[h]),y[h]=t.getOptionForAxis("gridLinePattern",d[h]),v[h]=y[h]&&y[h].length>=2);u=a.yticks,i.save(),u.forEach(m=>{if(m.has_tick){var _=m.axis;p[_]&&(i.save(),v[_]&&i.setLineDash&&i.setLineDash(y[_]),i.strokeStyle=c[_],i.lineWidth=f[_],l=n(r.x),o=s(r.y+m.pos*r.h),i.beginPath(),i.moveTo(l,o),i.lineTo(l+r.w,o),i.stroke(),i.restore())}}),i.restore()}if(t.getOptionForAxis("drawGrid","x")){u=a.xticks,i.save();var y=t.getOptionForAxis("gridLinePattern","x"),v=y&&y.length>=2;v&&i.setLineDash&&i.setLineDash(y),i.strokeStyle=t.getOptionForAxis("gridLineColor","x"),i.lineWidth=t.getOptionForAxis("gridLineWidth","x"),u.forEach(b=>{b.has_tick&&(l=n(r.x+b.pos*r.w),o=s(r.y+r.h),i.beginPath(),i.moveTo(l,o),i.lineTo(l,r.y),i.stroke())}),v&&i.setLineDash&&i.setLineDash([]),i.restore()}};Ve.prototype.destroy=function(){};var Ot=Ve;var Y=function(){this.legend_div_=null,this.is_generated_div_=!1};Y.prototype.toString=function(){return"Legend Plugin"};Y.prototype.activate=function(e){var t,i=e.getOption("labelsDiv");return i&&i!==null?typeof i=="string"||i instanceof String?t=document.getElementById(i):t=i:(t=document.createElement("div"),t.className="dygraph-legend",e.graphDiv.appendChild(t),this.is_generated_div_=!0),this.legend_div_=t,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var Vi=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var i=t.offsetWidth;return e.removeChild(t),i},Bi=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&#34;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};Y.prototype.select=function(e){var t=e.selectedX,i=e.selectedPoints,a=e.selectedRow,r=e.dygraph.getOption("legend");if(r==="never"){this.legend_div_.style.display="none";return}var n=Y.generateLegendHTML(e.dygraph,t,i,this.one_em_width_,a);if(n instanceof Node&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(this.legend_div_.innerHTML="",this.legend_div_.appendChild(n)):this.legend_div_.innerHTML=n,this.legend_div_.style.display="",r==="follow"){var s=e.dygraph.plotter_.area,l=this.legend_div_.offsetWidth,o=e.dygraph.getOptionForAxis("axisLabelWidth","y"),h=e.dygraph.getHighlightSeries(),u;h?(u=i.find(v=>v.name===h),u||(u=i[0])):u=i[0];let f=e.dygraph.getNumericOption("legendFollowOffsetX"),p=e.dygraph.getNumericOption("legendFollowOffsetY");var d=u.x*s.w+f,c=u.y*s.h+p;d+l+1>s.w&&(d=d-2*f-l-(o-s.x)),this.legend_div_.style.left=o+d+"px",this.legend_div_.style.top=c+"px"}else if(r==="onmouseover"&&this.is_generated_div_){var s=e.dygraph.plotter_.area,l=this.legend_div_.offsetWidth;this.legend_div_.style.left=s.x+s.w-l-1+"px",this.legend_div_.style.top=s.y+"px"}};Y.prototype.deselect=function(e){var t=e.dygraph.getOption("legend");t!=="always"&&(this.legend_div_.style.display="none");var i=Vi(this.legend_div_);this.one_em_width_=i;var a=Y.generateLegendHTML(e.dygraph,void 0,void 0,i,null);a instanceof Node&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(this.legend_div_.innerHTML="",this.legend_div_.appendChild(a)):this.legend_div_.innerHTML=a};Y.prototype.didDrawChart=function(e){this.deselect(e)};Y.prototype.predraw=function(e){if(this.is_generated_div_){e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.plotter_.area,i=this.legend_div_.offsetWidth;this.legend_div_.style.left=t.x+t.w-i-1+"px",this.legend_div_.style.top=t.y+"px"}};Y.prototype.destroy=function(){this.legend_div_=null};Y.generateLegendHTML=function(e,t,i,a,r){var n={dygraph:e,x:t,i:r,series:[]},s={},l=e.getLabels();if(l)for(var o=1;o<l.length;o++){var h=e.getPropertiesForSeries(l[o]),u=e.getOption("strokePattern",l[o]),d={dashHTML:Wi(u,h.color,a),label:l[o],labelHTML:Bi(l[o]),isVisible:h.visible,color:h.color};n.series.push(d),s[l[o]]=d}if(typeof t<"u"){var c=e.optionsViewForAxis_("x"),f=c("valueFormatter");n.xHTML=f.call(e,t,c,l[0],e,r,0);for(var p=[],v=e.numAxes(),o=0;o<v;o++)p[o]=e.optionsViewForAxis_("y"+(o?1+o:""));var y=e.getOption("labelsShowZeroValues"),m=e.getHighlightSeries();for(o=0;o<i.length;o++){var _=i[o],d=s[_.name];if(d.y=_.yval,_.yval===0&&!y||isNaN(_.canvasy)){d.isVisible=!1;continue}var h=e.getPropertiesForSeries(_.name),b=p[h.axis-1],w=b("valueFormatter"),S=w.call(e,_.yval,b,_.name,e,r,l.indexOf(_.name));B(d,{yHTML:S}),_.name==m&&(d.isHighlighted=!0)}}var R=e.getOption("legendFormatter")||Y.defaultFormatter;return R.call(e,n)};Y.defaultFormatter=function(e){var t=e.dygraph;if(t.getOption("showLabelsOnHighlight")!==!0)return"";var i=t.getOption("labelsSeparateLines"),a;if(typeof e.x>"u"){if(t.getOption("legend")!="always")return"";a="";for(var r=0;r<e.series.length;r++){var n=e.series[r];n.isVisible&&(a!==""&&(a+=i?"<br />":" "),a+=`<span style='font-weight: bold; color: ${n.color};'>${n.dashHTML} ${n.labelHTML}</span>`)}return a}a=e.xHTML+":";for(var r=0;r<e.series.length;r++){var n=e.series[r];if(!(!n.y&&!n.yHTML)&&n.isVisible){i&&(a+="<br>");var s=n.isHighlighted?' class="highlight"':"";a+=`<span${s}> <b><span style='color: ${n.color};'>${n.labelHTML}</span></b>:&#160;${n.yHTML}</span>`}}return a};function Wi(e,t,i){if(!e||e.length<=1)return`<div class="dygraph-legend-line" style="border-bottom-color: ${t};"></div>`;var a,r,n,s,l=0,o=0,h=[],u;for(a=0;a<=e.length;a++)l+=e[a%e.length];if(u=Math.floor(i/(l-e[0])),u>1){for(a=0;a<e.length;a++)h[a]=e[a]/i;o=h.length}else{for(u=1,a=0;a<e.length;a++)h[a]=e[a]/l;o=h.length+1}var d="";for(r=0;r<u;r++)for(a=0;a<o;a+=2)n=h[a%h.length],a<e.length?s=h[(a+1)%h.length]:s=0,d+=`<div class="dygraph-legend-dash" style="margin-right: ${s}em; padding-left: ${n}em;"></div>`;return d}var kt=Y;var F=function(){this.hasTouchInterface_=typeof TouchEvent<"u",this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};F.prototype.toString=function(){return"RangeSelector Plugin"};F.prototype.activate=function(e){return this.dygraph_=e,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};F.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null};F.prototype.getOption_=function(e,t){return this.dygraph_.getOption(e,t)};F.prototype.setDefaultOption_=function(e,t){this.dygraph_.attrs_[e]=t};F.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()};F.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)};F.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_),e.removeChild(this.fgcanvas_),e.removeChild(this.leftZoomHandle_),e.removeChild(this.rightZoomHandle_),this.graphDiv_=null};F.prototype.reserveSpace_=function(e){this.getOption_("showRangeSelector")&&e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)};F.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())};F.prototype.renderInteractiveLayer_=function(){!this.updateVisibility_()||this.isChangingRange_||(this.placeZoomHandles_(),this.drawInteractiveLayer_())};F.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e)this.interfaceCreated_?(!this.graphDiv_||!this.graphDiv_.parentNode)&&this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout(function(){t.width_=0,t.resize()},1)}return e};F.prototype.resize_=function(){function e(r,n,s,l){var o=l||Re(n);r.style.top=s.y+"px",r.style.left=s.x+"px",r.width=s.w*o,r.height=s.h*o,r.style.width=s.w+"px",r.style.height=s.h+"px",o!=1&&n.scale(o,o)}var t=this.dygraph_.layout_.getPlotArea(),i=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(i=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:t.x,y:t.y+t.h+i+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};var a=this.dygraph_.getNumericOption("pixelRatio");e(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,a),e(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,a)};F.prototype.createCanvases_=function(){this.bgcanvas_=Te(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=_e(this.bgcanvas_),this.fgcanvas_=Te(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=_e(this.fgcanvas_)};F.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)};F.prototype.initInteraction_=function(){var e=this,t=document,i=0,a=null,r=!1,n=!1,s=!this.isMobileDevice_,l=new Qe,o,h,u,d,c,f,p,v,y,m,_,b,w,S;o=function(x){var T=e.dygraph_.xAxisExtremes(),L=(T[1]-T[0])/e.canvasRect_.w,A=T[0]+(x.leftHandlePos-e.canvasRect_.x)*L,C=T[0]+(x.rightHandlePos-e.canvasRect_.x)*L;return[A,C]},h=function(x){return j(x),r=!0,i=x.clientX,a=x.target?x.target:x.srcElement,(x.type==="mousedown"||x.type==="dragstart")&&(oe(t,"mousemove",u),oe(t,"mouseup",d)),e.fgcanvas_.style.cursor="col-resize",l.cover(),!0},u=function(x){if(!r)return!1;j(x);var T=x.clientX-i;if(Math.abs(T)<4)return!0;i=x.clientX;var L=e.getZoomHandleStatus_(),A;a==e.leftZoomHandle_?(A=L.leftHandlePos+T,A=Math.min(A,L.rightHandlePos-a.width-3),A=Math.max(A,e.canvasRect_.x)):(A=L.rightHandlePos+T,A=Math.min(A,e.canvasRect_.x+e.canvasRect_.w),A=Math.max(A,L.leftHandlePos+a.width+3));var C=a.width/2;return a.style.left=A-C+"px",e.drawInteractiveLayer_(),s&&c(),!0},d=function(x){return r?(r=!1,l.uncover(),G(t,"mousemove",u),G(t,"mouseup",d),e.fgcanvas_.style.cursor="default",s||c(),!0):!1},c=function(){try{var x=e.getZoomHandleStatus_();if(e.isChangingRange_=!0,!x.isZoomed)e.dygraph_.resetZoom();else{var T=o(x);e.dygraph_.doZoomXDates_(T[0],T[1])}}finally{e.isChangingRange_=!1}},f=function(x){var T=e.leftZoomHandle_.getBoundingClientRect(),L=T.left+T.width/2;T=e.rightZoomHandle_.getBoundingClientRect();var A=T.left+T.width/2;return x.clientX>L&&x.clientX<A},p=function(x){return!n&&f(x)&&e.getZoomHandleStatus_().isZoomed?(j(x),n=!0,i=x.clientX,x.type==="mousedown"&&(oe(t,"mousemove",v),oe(t,"mouseup",y)),!0):!1},v=function(x){if(!n)return!1;j(x);var T=x.clientX-i;if(Math.abs(T)<4)return!0;i=x.clientX;var L=e.getZoomHandleStatus_(),A=L.leftHandlePos,C=L.rightHandlePos,z=C-A;A+T<=e.canvasRect_.x?(A=e.canvasRect_.x,C=A+z):C+T>=e.canvasRect_.x+e.canvasRect_.w?(C=e.canvasRect_.x+e.canvasRect_.w,A=C-z):(A+=T,C+=T);var I=e.leftZoomHandle_.width/2;return e.leftZoomHandle_.style.left=A-I+"px",e.rightZoomHandle_.style.left=C-I+"px",e.drawInteractiveLayer_(),s&&m(),!0},y=function(x){return n?(n=!1,G(t,"mousemove",v),G(t,"mouseup",y),s||m(),!0):!1},m=function(){try{e.isChangingRange_=!0,e.dygraph_.dateWindow_=o(e.getZoomHandleStatus_()),e.dygraph_.drawGraph_(!1)}finally{e.isChangingRange_=!1}},_=function(x){if(!(r||n)){var T=f(x)?"move":"default";T!=e.fgcanvas_.style.cursor&&(e.fgcanvas_.style.cursor=T)}},b=function(x){x.type=="touchstart"&&x.targetTouches.length==1?h(x.targetTouches[0])&&j(x):x.type=="touchmove"&&x.targetTouches.length==1?u(x.targetTouches[0])&&j(x):d(x)},w=function(x){x.type=="touchstart"&&x.targetTouches.length==1?p(x.targetTouches[0])&&j(x):x.type=="touchmove"&&x.targetTouches.length==1?v(x.targetTouches[0])&&j(x):y(x)},S=function(x,T){for(var L=["touchstart","touchend","touchmove","touchcancel"],A=0;A<L.length;A++)e.dygraph_.addAndTrackEvent(x,L[A],T)},this.setDefaultOption_("interactionModel",X.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var R=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,R,h),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,R,h),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",p),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",_),this.hasTouchInterface_&&(S(this.leftZoomHandle_,b),S(this.rightZoomHandle_,b),S(this.fgcanvas_,w))};F.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(i){console.warn(i)}var t=.5;this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),e.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),e.beginPath(),e.moveTo(t,t),e.lineTo(t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,t),e.stroke()};F.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor"),t=this.getOption_("rangeSelectorPlotFillGradientColor"),i=this.getOption_("rangeSelectorPlotStrokeColor");if(!(!e&&!i)){var a=this.getOption_("stepPlot"),r=this.computeCombinedSeriesAndLimits_(),n=r.yMax-r.yMin,s=this.bgcanvas_ctx_,l=.5,o=this.dygraph_.xAxisExtremes(),h=Math.max(o[1]-o[0],1e-30),u=(this.canvasRect_.w-l)/h,d=(this.canvasRect_.h-l)/n,c=this.canvasRect_.w-l,f=this.canvasRect_.h-l,p=null,v=null;s.beginPath(),s.moveTo(l,f);for(var y=0;y<r.data.length;y++){var m=r.data[y],_=m[0]!==null?(m[0]-o[0])*u:NaN,b=m[1]!==null?f-(m[1]-r.yMin)*d:NaN;!a&&p!==null&&Math.round(_)==Math.round(p)||(isFinite(_)&&isFinite(b)?(p===null?s.lineTo(_,f):a&&s.lineTo(_,v),s.lineTo(_,b),p=_,v=b):(p!==null&&(a?(s.lineTo(_,v),s.lineTo(_,f)):s.lineTo(p,f)),p=v=null))}if(s.lineTo(c,f),s.closePath(),e){var w=this.bgcanvas_ctx_.createLinearGradient(0,0,0,f);t&&w.addColorStop(0,t),w.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=w,s.fill()}i&&(this.bgcanvas_ctx_.strokeStyle=i,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),s.stroke())}};F.prototype.computeCombinedSeriesAndLimits_=function(){var e=this.dygraph_,t=this.getOption_("logscale"),i,a=e.numColumns(),r=e.getLabels(),n=new Array(a),s=!1,l=e.visibility(),o=[];for(i=1;i<a;i++){var h=this.getOption_("showInRangeSelector",r[i]);o.push(h),h!==null&&(s=!0)}if(s)for(i=1;i<a;i++)n[i]=o[i-1];else for(i=1;i<a;i++)n[i]=l[i-1];var u=[],d=e.dataHandler_,c=e.attributes_;for(i=1;i<e.numColumns();i++)if(n[i]){var f=d.extractSeries(e.rawData_,i,c);e.rollPeriod()>1&&(f=d.rollingAverage(f,e.rollPeriod(),c,i)),u.push(f)}var p=[];for(i=0;i<u[0].length;i++){for(var v=0,y=0,m=0;m<u.length;m++){var _=u[m][i][1];_===null||isNaN(_)||(y++,v+=_)}p.push([u[0][i][0],v/y])}var b=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(i=0;i<p.length;i++){var S=p[i][1];S!==null&&isFinite(S)&&(!t||S>0)&&(b=Math.min(b,S),w=Math.max(w,S))}var R=.25;if(t)for(w=M(w),w+=w*R,b=M(b),i=0;i<p.length;i++)p[i][1]=M(p[i][1]);else{var x,T=w-b;T<=Number.MIN_VALUE?x=w*R:x=T*R,w+=x,b-=x}return{data:p,yMin:b,yMax:w}};F.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),i=e[1]-e[0],a=Math.max(0,(t[0]-e[0])/i),r=Math.max(0,(e[1]-t[1])/i),n=this.canvasRect_.x+this.canvasRect_.w*a,s=this.canvasRect_.x+this.canvasRect_.w*(1-r),l=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),o=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=n-o+"px",this.leftZoomHandle_.style.top=l+"px",this.rightZoomHandle_.style.left=s-o+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"};F.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=1,i=this.canvasRect_.w-t,a=this.canvasRect_.h-t,r=this.getZoomHandleStatus_();if(e.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),e.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),!r.isZoomed)e.beginPath(),e.moveTo(t,t),e.lineTo(t,a),e.lineTo(i,a),e.lineTo(i,t),e.stroke();else{var n=Math.max(t,r.leftHandlePos-this.canvasRect_.x),s=Math.min(i,r.rightHandlePos-this.canvasRect_.x);let l=this.getOption_("rangeSelectorVeilColour");e.fillStyle=l||"rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",e.fillRect(0,0,n,this.canvasRect_.h),e.fillRect(s,0,this.canvasRect_.w-s,this.canvasRect_.h),e.beginPath(),e.moveTo(t,t),e.lineTo(n,t),e.lineTo(n,a),e.lineTo(s,a),e.lineTo(s,t),e.lineTo(i,t),e.stroke()}};F.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseFloat(this.leftZoomHandle_.style.left)+e,i=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:i,isZoomed:t-1>this.canvasRect_.x||i+1<this.canvasRect_.x+this.canvasRect_.w}};var Nt=F;var at=function(e){this.container=e};at.prototype.draw=function(e,t){this.container.innerHTML="",typeof this.date_graph<"u"&&this.date_graph.destroy(),this.date_graph=new J(this.container,e,t)};at.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)};at.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(t<0)return e;for(var i=this.date_graph.layout_.points,a=0;a<i.length;++a)e.push({row:t,column:a+1});return e};var ui=at;var g=function(t,i,a){this.__init__(t,i,a)};g.NAME="Dygraph";g.VERSION="2.2.1";var Mt={};g._require=function(t){return t in Mt?Mt[t]:g._require._b(t)};g._require._b=null;g._require.add=function(t,i){Mt[t]=i};g.DEFAULT_ROLL_PERIOD=1;g.DEFAULT_WIDTH=480;g.DEFAULT_HEIGHT=320;g.ANIMATION_STEPS=12;g.ANIMATION_DURATION=200;g.Plotters=ue._Plotters;g.addedAnnotationCSS=!1;g.prototype.__init__=function(e,t,i){if(this.is_initial_draw_=!0,this.readyFns_=[],i==null&&(i={}),i=g.copyUserAttrs_(i),typeof e=="string"&&(e=document.getElementById(e)),!e)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=e,this.file_=t,this.rollPeriod_=i.rollPeriod||g.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=i.fractions||!1,this.dateWindow_=i.dateWindow||null,this.annotations_=[],e.innerHTML="";let a=window.getComputedStyle(e,null);(a.paddingLeft!=="0px"||a.paddingRight!=="0px"||a.paddingTop!=="0px"||a.paddingBottom!=="0px")&&console.error("Main div contains padding; graph will misbehave"),e.style.width===""&&i.width&&(e.style.width=i.width+"px"),e.style.height===""&&i.height&&(e.style.height=i.height+"px"),e.style.height===""&&e.clientHeight===0&&(e.style.height=g.DEFAULT_HEIGHT+"px",e.style.width===""&&(e.style.width=g.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||i.width||0,this.height_=e.clientHeight||i.height||0,i.stackedGraph&&(i.fillGraph=!0),this.user_attrs_={},B(this.user_attrs_,i),this.attrs_={},qe(this.attrs_,Ce),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new si(this),this.createInterface_(),this.plugins_=[];for(var r=g.PLUGINS.concat(this.getOption("plugins")),n=0;n<r.length;n++){var s=r[n],l;typeof s.activate<"u"?l=s:l=new s;var o={plugin:l,events:{},options:{},pluginOptions:{}},h=l.activate(this);for(var u in h)h.hasOwnProperty(u)&&(o.events[u]=h[u]);this.plugins_.push(o)}for(var n=0;n<this.plugins_.length;n++){var d=this.plugins_[n];for(var u in d.events)if(d.events.hasOwnProperty(u)){var c=d.events[u],f=[d.plugin,c];u in this.eventListeners_?this.eventListeners_[u].push(f):this.eventListeners_[u]=[f]}}this.createDragInterface_(),this.start_()};g.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_))return!1;var i={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!i.cancelable)throw"Cannot call preventDefault on non-cancelable event.";i.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){i.propagationStopped=!0}};B(i,t);var a=this.eventListeners_[e];if(a)for(var r=a.length-1;r>=0;r--){var n=a[r][0],s=a[r][1];if(s.call(n,i),i.propagationStopped)break}return i.defaultPrevented};g.prototype.getPluginInstance_=function(e){for(var t=0;t<this.plugins_.length;t++){var i=this.plugins_[t];if(i.plugin instanceof e)return i.plugin}return null};g.prototype.isZoomed=function(e){let t=!!this.dateWindow_;if(e==="x")return t;let i=this.axes_.map(a=>!!a.valueRange).indexOf(!0)>=0;if(e==null)return t||i;if(e==="y")return i;throw new Error(`axis parameter is [${e}] must be null, 'x' or 'y'.`)};g.prototype.toString=function(){var e=this.maindiv_,t=e&&e.id?e.id:e;return"[Dygraph "+t+"]"};g.prototype.attr_=function(e,t){return typeof process<"u",t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)};g.prototype.getOption=function(e,t){return this.attr_(e,t)};g.prototype.getNumericOption=function(e,t){return this.getOption(e,t)};g.prototype.getStringOption=function(e,t){return this.getOption(e,t)};g.prototype.getBooleanOption=function(e,t){return this.getOption(e,t)};g.prototype.getFunctionOption=function(e,t){return this.getOption(e,t)};g.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)};g.prototype.optionsViewForAxis_=function(e){var t=this;return function(i){var a=t.user_attrs_.axes;return a&&a[e]&&a[e].hasOwnProperty(i)?a[e][i]:e==="x"&&i==="logscale"?!1:typeof t.user_attrs_[i]<"u"?t.user_attrs_[i]:(a=t.attrs_.axes,a&&a[e]&&a[e].hasOwnProperty(i)?a[e][i]:e=="y"&&t.axes_[0].hasOwnProperty(i)?t.axes_[0][i]:e=="y2"&&t.axes_[1].hasOwnProperty(i)?t.axes_[1][i]:t.attr_(i))}};g.prototype.rollPeriod=function(){return this.rollPeriod_};g.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};g.prototype.xAxisExtremes=function(){var e=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(this.numRows()===0)return[0-e,1+e];var t=this.rawData_[0][0],i=this.rawData_[this.rawData_.length-1][0];if(e){var a=i-t;t-=a*e,i+=a*e}return[t,i]};g.prototype.yAxisExtremes=function(){let e=this.gatherDatasets_(this.rolledSeries_,null),{extremes:t}=e,i=this.axes_;this.computeYAxisRanges_(t);let a=this.axes_;return this.axes_=i,a.map(r=>r.extremeRange)};g.prototype.yAxisRange=function(e){if(typeof e>"u"&&(e=0),e<0||e>=this.axes_.length)return null;var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]};g.prototype.yAxisRanges=function(){for(var e=[],t=0;t<this.axes_.length;t++)e.push(this.yAxisRange(t));return e};g.prototype.toDomCoords=function(e,t,i){return[this.toDomXCoord(e),this.toDomYCoord(t,i)]};g.prototype.toDomXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,i=this.xAxisRange();return t.x+(e-i[0])/(i[1]-i[0])*t.w};g.prototype.toDomYCoord=function(e,t){var i=this.toPercentYCoord(e,t);if(i===null)return null;var a=this.plotter_.area;return a.y+i*a.h};g.prototype.toDataCoords=function(e,t,i){return[this.toDataXCoord(e),this.toDataYCoord(t,i)]};g.prototype.toDataXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,i=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var a=(e-t.x)/t.w;return Pe(i[0],i[1],a)}else return i[0]+(e-t.x)/t.w*(i[1]-i[0])};g.prototype.toDataYCoord=function(e,t){if(e===null)return null;var i=this.plotter_.area,a=this.yAxisRange(t);if(typeof t>"u"&&(t=0),this.attributes_.getForAxis("logscale",t)){var r=(e-i.y)/i.h;return Pe(a[1],a[0],r)}else return a[0]+(i.y+i.h-e)/i.h*(a[1]-a[0])};g.prototype.toPercentYCoord=function(e,t){if(e===null)return null;typeof t>"u"&&(t=0);var i=this.yAxisRange(t),a,r=this.attributes_.getForAxis("logscale",t);if(r){var n=M(i[0]),s=M(i[1]);a=(s-M(e))/(s-n)}else a=(i[1]-e)/(i[1]-i[0]);return a};g.prototype.toPercentXCoord=function(e){if(e===null)return null;var t=this.xAxisRange(),i,a=this.attributes_.getForAxis("logscale","x");if(a===!0){var r=M(t[0]),n=M(t[1]);i=(M(e)-r)/(n-r)}else i=(e-t[0])/(t[1]-t[0]);return i};g.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0};g.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0};g.prototype.getValue=function(e,t){return e<0||e>=this.rawData_.length||t<0||t>=this.rawData_[e].length?null:this.rawData_[e][t]};g.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=Te(),this.canvas_.style.position="absolute",this.canvas_.style.top=0,this.canvas_.style.left=0,this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=_e(this.canvas_),this.hidden_ctx_=_e(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new He(this);var t=this;if(this.mouseMoveHandler_=function(a){t.mouseMove_(a)},this.mouseOutHandler_=function(a){var r=a.target||a.fromElement,n=a.relatedTarget||a.toElement;xt(r,t.graphDiv)&&!xt(n,t.graphDiv)&&t.mouseOut_(a)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),!this.resizeHandler_){this.resizeHandler_=function(a){t.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_),this.resizeObserver_=null;var i=this.getStringOption("resizable");if(typeof ResizeObserver>"u"&&i!=="no"&&(console.error("ResizeObserver unavailable; ignoring resizable property"),i="no"),i==="horizontal"||i==="vertical"||i==="both"?e.style.resize=i:i!=="passive"&&(i="no"),i!=="no"){let a=window.getComputedStyle(e).overflow;window.getComputedStyle(e).overflow==="visible"&&(e.style.overflow="hidden"),this.resizeObserver_=new ResizeObserver(this.resizeHandler_),this.resizeObserver_.observe(e)}}};g.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=this.getNumericOption("pixelRatio"),t=e||Re(this.canvas_ctx_);this.canvas_.width=this.width_*t,this.canvas_.height=this.height_*t,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",t!==1&&this.canvas_ctx_.scale(t,t);var i=e||Re(this.hidden_ctx_);this.hidden_.width=this.width_*i,this.hidden_.height=this.height_*i,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",i!==1&&this.hidden_ctx_.scale(i,i)};g.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var t=this.plugins_.pop();t.plugin.destroy&&t.plugin.destroy()}var i=function(r){for(;r.hasChildNodes();)i(r.firstChild),r.removeChild(r.firstChild)};this.removeTrackedEvents_(),G(window,"mouseout",this.mouseOutHandler_),G(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeObserver_&&(this.resizeObserver_.disconnect(),this.resizeObserver_=null),G(window,"resize",this.resizeHandler_),this.resizeHandler_=null,i(this.maindiv_);var a=function(n){for(var s in n)typeof n[s]=="object"&&(n[s]=null)};a(this.layout_),a(this.plotter_),a(this)};g.prototype.createPlotKitCanvas_=function(e){var t=Te();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t};g.prototype.createMouseEventElement_=function(){return this.canvas_};g.prototype.setColors_=function(){var e=this.getLabels(),t=e.length-1;this.colors_=[],this.colorsMap_={};for(var i=this.getNumericOption("colorSaturation")||1,a=this.getNumericOption("colorValue")||.5,r=Math.ceil(t/2),n=this.getOption("colors"),s=this.visibility(),l=0;l<t;l++)if(s[l]){var o=e[l+1],h=this.attributes_.getForSeries("color",o);if(!h)if(n)h=n[l%n.length];else{var u=l%2?r+(l+1)/2:Math.ceil((l+1)/2),d=1*u/(1+t);h=Jt(d,i,a)}this.colors_.push(h),this.colorsMap_[o]=h}};g.prototype.getColors=function(){return this.colors_};g.prototype.getPropertiesForSeries=function(e){for(var t=-1,i=this.getLabels(),a=1;a<i.length;a++)if(i[a]==e){t=a;break}return t==-1?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}};g.prototype.createRollInterface_=function(){var e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var t=this.getBooleanOption("showRoller")?"block":"none",i=this.getArea(),a={top:i.y+i.h-25+"px",left:i.x+1+"px",display:t};e.size="2",e.value=this.rollPeriod_,B(e.style,a);let r=this;e.onchange=function(){return r.adjustRoll(e.value)}};g.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new Qe,initializeMouseDown:function(s,l,o){s.preventDefault?s.preventDefault():(s.returnValue=!1,s.cancelBubble=!0);var h=te(l.canvas_);o.px=h.x,o.py=h.y,o.dragStartX=we(s,o),o.dragStartY=Ae(s,o),o.cancelNextDblclick=!1,o.tarp.cover()},destroy:function(){var s=this;if((s.isZooming||s.isPanning)&&(s.isZooming=!1,s.dragStartX=null,s.dragStartY=null),s.isPanning){s.isPanning=!1,s.draggingDate=null,s.dateRange=null;for(var l=0;l<i.axes_.length;l++)delete i.axes_[l].draggingValue,delete i.axes_[l].dragValueRange}s.tarp.uncover()}},t=this.getOption("interactionModel"),i=this,a=function(s){return function(l){s(l,i,e)}};for(var r in t)t.hasOwnProperty(r)&&this.addAndTrackEvent(this.mouseEventElement_,r,a(t[r]));if(!t.willDestroyContextMyself){var n=function(s){e.destroy()};this.addAndTrackEvent(document,"mouseup",n)}};g.prototype.drawZoomRect_=function(e,t,i,a,r,n,s,l){var o=this.canvas_ctx_;n==ye?o.clearRect(Math.min(t,s),this.layout_.getPlotArea().y,Math.abs(t-s),this.layout_.getPlotArea().h):n==me&&o.clearRect(this.layout_.getPlotArea().x,Math.min(a,l),this.layout_.getPlotArea().w,Math.abs(a-l)),e==ye?i&&t&&(o.fillStyle="rgba(128,128,128,0.33)",o.fillRect(Math.min(t,i),this.layout_.getPlotArea().y,Math.abs(i-t),this.layout_.getPlotArea().h)):e==me&&r&&a&&(o.fillStyle="rgba(128,128,128,0.33)",o.fillRect(this.layout_.getPlotArea().x,Math.min(a,r),this.layout_.getPlotArea().w,Math.abs(r-a)))};g.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)};g.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var i=this.toDataXCoord(e),a=this.toDataXCoord(t);this.doZoomXDates_(i,a)};g.prototype.doZoomXDates_=function(e,t){var i=this.xAxisRange(),a=[e,t];let r=this.getFunctionOption("zoomCallback"),n=this;this.doAnimatedZoom(i,a,null,null,function(){r&&r.call(n,e,t,n.yAxisRanges())})};g.prototype.doZoomY_=function(e,t){this.currentZoomRectArgs_=null;for(var i=this.yAxisRanges(),a=[],r=0;r<this.axes_.length;r++){var n=this.toDataYCoord(e,r),s=this.toDataYCoord(t,r);a.push([s,n])}let l=this.getFunctionOption("zoomCallback"),o=this;this.doAnimatedZoom(null,null,i,a,function(){if(l){let[u,d]=o.xAxisRange();l.call(o,u,d,o.yAxisRanges())}})};g.zoomAnimationFunction=function(e,t){var i=1.5;return(1-Math.pow(i,-e))/(1-Math.pow(i,-t))};g.prototype.resetZoom=function(){let e=this.isZoomed("x"),t=this.isZoomed("y"),i=e||t;if(this.clearSelection(),!i)return;let[a,r]=this.xAxisExtremes(),n=this.getBooleanOption("animatedZooms"),s=this.getFunctionOption("zoomCallback");if(!n){this.dateWindow_=null,this.axes_.forEach(c=>{c.valueRange&&delete c.valueRange}),this.drawGraph_(),s&&s.call(this,a,r,this.yAxisRanges());return}var l=null,o=null,h=null,u=null;e&&(l=this.xAxisRange(),o=[a,r]),t&&(h=this.yAxisRanges(),u=this.yAxisExtremes());let d=this;this.doAnimatedZoom(l,o,h,u,function(){d.dateWindow_=null,d.axes_.forEach(f=>{f.valueRange&&delete f.valueRange}),s&&s.call(d,a,r,d.yAxisRanges())})};g.prototype.doAnimatedZoom=function(e,t,i,a,r){var n=this.getBooleanOption("animatedZooms")?g.ANIMATION_STEPS:1,s=[],l=[],o,h;if(e!==null&&t!==null)for(o=1;o<=n;o++)h=g.zoomAnimationFunction(o,n),s[o-1]=[e[0]*(1-h)+h*t[0],e[1]*(1-h)+h*t[1]];if(i!==null&&a!==null)for(o=1;o<=n;o++){h=g.zoomAnimationFunction(o,n);for(var u=[],d=0;d<this.axes_.length;d++)u.push([i[d][0]*(1-h)+h*a[d][0],i[d][1]*(1-h)+h*a[d][1]]);l[o-1]=u}let c=this;_t(function(f){if(l.length)for(var p=0;p<c.axes_.length;p++){var v=l[f][p];c.axes_[p].valueRange=[v[0],v[1]]}s.length&&(c.dateWindow_=s[f]),c.drawGraph_()},n,g.ANIMATION_DURATION/n,r)};g.prototype.getArea=function(){return this.plotter_.area};g.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var t=te(this.mouseEventElement_),i=be(e)-t.x,a=xe(e)-t.y;return[i,a]};g.prototype.findClosestRow=function(e){for(var t=1/0,i=-1,a=this.layout_.points,r=0;r<a.length;r++)for(var n=a[r],s=n.length,l=0;l<s;l++){var o=n[l];if(Se(o,!0)){var h=Math.abs(o.canvasx-e);h<t&&(t=h,i=o.idx)}}return i};g.prototype.findClosestPoint=function(e,t){for(var i=1/0,a,r,n,s,l,o,h,u=this.layout_.points.length-1;u>=0;--u)for(var d=this.layout_.points[u],c=0;c<d.length;++c)s=d[c],Se(s)&&(r=s.canvasx-e,n=s.canvasy-t,a=r*r+n*n,a<i&&(i=a,l=s,o=u,h=s.idx));var f=this.layout_.setNames[o];return{row:h,seriesName:f,point:l}};g.prototype.findStackedPoint=function(e,t){for(var i=this.findClosestRow(e),a,r,n=0;n<this.layout_.points.length;++n){var s=this.getLeftBoundary_(n),l=i-s,o=this.layout_.points[n];if(!(l>=o.length)){var h=o[l];if(Se(h)){var u=h.canvasy;if(e>h.canvasx&&l+1<o.length){var d=o[l+1];if(Se(d)){var c=d.canvasx-h.canvasx;if(c>0){var f=(e-h.canvasx)/c;u+=f*(d.canvasy-h.canvasy)}}}else if(e<h.canvasx&&l>0){var p=o[l-1];if(Se(p)){var c=h.canvasx-p.canvasx;if(c>0){var f=(h.canvasx-e)/c;u+=f*(p.canvasy-h.canvasy)}}}(n===0||u<t)&&(a=h,r=n)}}}var v=this.layout_.setNames[r];return{row:i,seriesName:v,point:a}};g.prototype.mouseMove_=function(e){var t=this.layout_.points;if(t!=null){var i=this.eventToDomCoords(e),a=i[0],r=i[1],n=this.getOption("highlightSeriesOpts"),s=!1;if(n&&!this.isSeriesLocked()){var l;this.getBooleanOption("stackedGraph")?l=this.findStackedPoint(a,r):l=this.findClosestPoint(a,r),s=this.setSelection(l.row,l.seriesName)}else{var o=this.findClosestRow(a);s=this.setSelection(o)}var h=this.getFunctionOption("highlightCallback");h&&s&&h.call(this,e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}};g.prototype.getLeftBoundary_=function(e){if(this.boundaryIds_[e])return this.boundaryIds_[e][0];for(var t=0;t<this.boundaryIds_.length;t++)if(this.boundaryIds_[t]!==void 0)return this.boundaryIds_[t][0];return 0};g.prototype.animateSelection_=function(e){var t=10,i=30;this.fadeLevel===void 0&&(this.fadeLevel=0),this.animateId===void 0&&(this.animateId=0);var a=this.fadeLevel,r=e<0?a:t-a;if(r<=0){this.fadeLevel&&this.updateSelection_(1);return}var n=++this.animateId,s=this,l=function(){s.fadeLevel!==0&&e<0&&(s.fadeLevel=0,s.clearSelection())};_t(function(o){s.animateId==n&&(s.fadeLevel+=e,s.fadeLevel===0?s.clearSelection():s.updateSelection_(s.fadeLevel/t))},r,i,l)};g.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:this.lastRow_===-1?void 0:this.lastRow_,selectedX:this.lastx_===null?void 0:this.lastx_,selectedPoints:this.selPoints_});var t,i=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){i.clearRect(0,0,this.width_,this.height_);var a=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),r=De(this.getOption("highlightSeriesBackgroundColor"));if(a){var n=this.getBooleanOption("animateBackgroundFade");if(n){if(e===void 0){this.animateSelection_(1);return}a*=e}i.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+a+")",i.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,i)}else if(this.previousVerticalX_>=0){var s=0,l=this.attr_("labels");for(t=1;t<l.length;t++){var o=this.getNumericOption("highlightCircleSize",l[t]);o>s&&(s=o)}var h=this.previousVerticalX_;i.clearRect(h-s-1,0,2*s+2,this.height_)}if(this.selPoints_.length>0){var u=this.selPoints_[0].canvasx;for(i.save(),t=0;t<this.selPoints_.length;t++){var d=this.selPoints_[t];if(!isNaN(d.canvasy)){var c=this.getNumericOption("highlightCircleSize",d.name),f=this.getFunctionOption("drawHighlightPointCallback",d.name),p=this.plotter_.colors[d.name];f||(f=Fe.DEFAULT),i.lineWidth=this.getNumericOption("strokeWidth",d.name),i.strokeStyle=p,i.fillStyle=p,f.call(this,this,d.name,i,u,d.canvasy,p,c,d.idx)}}i.restore(),this.previousVerticalX_=u}};g.prototype.setSelection=function(t,i,a,r){this.selPoints_=[];var n=!1;if(t!==!1&&t>=0){t!=this.lastRow_&&(n=!0),this.lastRow_=t;for(var s=0;s<this.layout_.points.length;++s){var l=this.layout_.points[s],o=t-this.getLeftBoundary_(s);if(o>=0&&o<l.length&&l[o].idx==t){var h=l[o];h.yval!==null&&this.selPoints_.push(h)}else for(var u=0;u<l.length;++u){var h=l[u];if(h.idx==t){h.yval!==null&&this.selPoints_.push(h);break}}}}else this.lastRow_>=0&&(n=!0),this.lastRow_=-1;if(this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=null,i!==void 0&&(this.highlightSet_!==i&&(n=!0),this.highlightSet_=i),a!==void 0&&(this.lockedSet_=a),n&&(this.updateSelection_(void 0),r)){var d=this.getFunctionOption("highlightCallback");if(d){var c={};d.call(this,c,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}}return n};g.prototype.mouseOut_=function(e){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,e),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()};g.prototype.clearSelection=function(){if(this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel){this.animateSelection_(-1);return}this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=null,this.lastRow_=-1,this.highlightSet_=null};g.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var e=0;e<this.layout_.points.length;e++)for(var t=this.layout_.points[e],i=0;i<t.length;i++)if(t[i].x==this.selPoints_[0].x)return t[i].idx;return-1};g.prototype.getHighlightSeries=function(){return this.highlightSet_};g.prototype.isSeriesLocked=function(){return this.lockedSet_};g.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_()};g.prototype.addXTicks_=function(){var e;this.dateWindow_?e=[this.dateWindow_[0],this.dateWindow_[1]]:e=this.xAxisExtremes();var t=this.optionsViewForAxis_("x"),i=t("ticker")(e[0],e[1],this.plotter_.area.w,t,this);this.layout_.setXTicks(i)};g.prototype.getHandlerClass_=function(){var e;return this.attr_("dataHandler")?e=this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?e=Dt:e=Tt:this.getBooleanOption("customBars")?e=St:this.getBooleanOption("errorBars")?e=At:e=ze,e};g.prototype.predraw_=function(){var e=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new ue(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var i=this.dataHandler_.extractSeries(this.rawData_,t,this.attributes_);this.rollPeriod_>1&&(i=this.dataHandler_.rollingAverage(i,this.rollPeriod_,this.attributes_,t)),this.rolledSeries_.push(i)}this.drawGraph_();var a=new Date;this.drawingTimeMs_=a-e};g.PointType=void 0;g.stackPoints_=function(e,t,i,a){for(var r=null,n=null,s=null,l=-1,o=function(p){if(!(l>=p)){for(var v=p;v<e.length;++v)if(s=null,!isNaN(e[v].yval)&&e[v].yval!==null){l=v,s=e[v];break}}},h=0;h<e.length;++h){var u=e[h],d=u.xval;t[d]===void 0&&(t[d]=0);var c=u.yval;isNaN(c)||c===null?a=="none"?c=0:(o(h),n&&s&&a!="none"?c=n.yval+(s.yval-n.yval)*((d-n.xval)/(s.xval-n.xval)):n&&a=="all"?c=n.yval:s&&a=="all"?c=s.yval:c=0):n=u;var f=t[d];r!=d&&(f+=c,t[d]=f),r=d,u.yval_stacked=f,f>i[1]&&(i[1]=f),f<i[0]&&(i[0]=f)}};g.prototype.gatherDatasets_=function(e,t){var i=[],a=[],r=[],n={},s,l,o,h,u,d=e.length-1,c;for(s=d;s>=1;s--)if(this.visibility()[s-1]){if(t){c=e[s];var f=t[0],p=t[1];for(o=null,h=null,l=0;l<c.length;l++)c[l][0]>=f&&o===null&&(o=l),c[l][0]<=p&&(h=l);o===null&&(o=0);for(var v=o,y=!0;y&&v>0;)v--,y=c[v][1]===null;h===null&&(h=c.length-1);var m=h;for(y=!0;y&&m<c.length-1;)m++,y=c[m][1]===null;v!==o&&(o=v),m!==h&&(h=m),i[s-1]=[o,h],c=c.slice(o,h+1)}else c=e[s],i[s-1]=[0,c.length-1];var _=this.attr_("labels")[s],b=this.dataHandler_.getExtremeYValues(c,t,this.getBooleanOption("stepPlot",_)),w=this.dataHandler_.seriesToPoints(c,_,i[s-1][0]);this.getBooleanOption("stackedGraph")&&(u=this.attributes_.axisForSeries(_),r[u]===void 0&&(r[u]=[]),g.stackPoints_(w,r[u],b,this.getBooleanOption("stackedGraphNaNFill"))),n[_]=b,a[s]=w}return{points:a,extremes:n,boundaryIds:i}};g.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var i=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),a=i.points,r=i.extremes;this.boundaryIds_=i.boundaryIds,this.setIndexByName_={};for(var n=this.attr_("labels"),s=0,l=1;l<a.length;l++)this.visibility()[l-1]&&(this.layout_.addDataset(n[l],a[l]),this.datasetIndex_[l]=s++);for(var l=0;l<n.length;l++)this.setIndexByName_[n[l]]=l;if(this.computeYAxisRanges_(r),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(t),this.getStringOption("timingName")){var o=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(o-e)+"ms")}};g.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart"),this.plotter_.clear();let t=this.getFunctionOption("underlayCallback");t&&t.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var i={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",i),this.plotter_.render(),this.cascadeEvents_("didDrawChart",i),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);let a=this.getFunctionOption("drawCallback");if(a!==null&&a.call(this,this,e),e)for(this.readyFired_=!0;this.readyFns_.length>0;){var r=this.readyFns_.pop();r(this)}};g.prototype.computeYAxes_=function(){var e,t,i,a;for(this.axes_=[],e=0;e<this.attributes_.numAxes();e++)i={g:this},B(i,this.attributes_.axisOptions(e)),this.axes_[e]=i;for(e=0;e<this.axes_.length;e++)if(e===0)i=this.optionsViewForAxis_("y"+(e?"2":"")),a=i("valueRange"),a&&(this.axes_[e].valueRange=a);else{var r=this.user_attrs_.axes;r&&r.y2&&(a=r.y2.valueRange,a&&(this.axes_[e].valueRange=a))}};g.prototype.numAxes=function(){return this.attributes_.numAxes()};g.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]};g.prototype.computeYAxisRanges_=function(e){for(var t=function(q){return isNaN(parseFloat(q))},i=this.attributes_.numAxes(),a,r,n,s,l,o=0;o<i;o++){var h=this.axes_[o],u=this.attributes_.getForAxis("logscale",o),d=this.attributes_.getForAxis("includeZero",o),c=this.attributes_.getForAxis("independentTicks",o);n=this.attributes_.seriesForAxis(o),a=!0,s=.1;let q=this.getNumericOption("yRangePad");if(q!==null&&(a=!1,s=q/this.plotter_.area.h),n.length===0)h.extremeRange=[0,1];else{for(var f=1/0,p=-1/0,v,y,m=0;m<n.length;m++)e.hasOwnProperty(n[m])&&(v=e[n[m]][0],v!==null&&(f=Math.min(v,f)),y=e[n[m]][1],y!==null&&(p=Math.max(y,p)));d&&!u&&(f>0&&(f=0),p<0&&(p=0)),f==1/0&&(f=0),p==-1/0&&(p=1),r=p-f,r===0&&(p!==0?r=Math.abs(p):(p=1,r=1));var _=p,b=f;a&&(u?(_=p+s*r,b=f):(_=p+s*r,b=f-s*r,b<0&&f>=0&&(b=0),_>0&&p<=0&&(_=0))),h.extremeRange=[b,_]}if(h.valueRange){var w=t(h.valueRange[0])?h.extremeRange[0]:h.valueRange[0],S=t(h.valueRange[1])?h.extremeRange[1]:h.valueRange[1];h.computedValueRange=[w,S]}else h.computedValueRange=h.extremeRange;if(!a){if(w=h.computedValueRange[0],S=h.computedValueRange[1],w===S)if(w===0)S=1;else{var R=Math.abs(w/10);w-=R,S+=R}if(u){var x=s/(2*s-1),T=(s-1)/(2*s-1);h.computedValueRange[0]=Pe(w,S,x),h.computedValueRange[1]=Pe(w,S,T)}else r=S-w,h.computedValueRange[0]=w-r*s,h.computedValueRange[1]=S+r*s}if(c){h.independentTicks=c;var L=this.optionsViewForAxis_("y"+(o?"2":"")),A=L("ticker");h.ticks=A(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,L,this),l||(l=h)}}if(l===void 0)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(var o=0;o<i;o++){var h=this.axes_[o];if(!h.independentTicks){for(var L=this.optionsViewForAxis_("y"+(o?"2":"")),A=L("ticker"),C=l.ticks,z=l.computedValueRange[1]-l.computedValueRange[0],I=h.computedValueRange[1]-h.computedValueRange[0],W=[],H=0;H<C.length;H++){var N=(C[H].v-l.computedValueRange[0])/z,ge=h.computedValueRange[0]+N*I;W.push(ge)}h.ticks=A(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,L,this,W)}}};g.prototype.detectTypeFromString_=function(e){var t=!1,i=e.indexOf("-");(i>0&&e[i-1]!="e"&&e[i-1]!="E"||e.indexOf("/")>=0||isNaN(parseFloat(e)))&&(t=!0),this.setXAxisOptions_(t)};g.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=vt,this.attrs_.axes.x.valueFormatter=Ee,this.attrs_.axes.x.ticker=re,this.attrs_.axes.x.axisLabelFormatter=he):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=Q,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)};g.prototype.parseCSV_=function(e){var t=[],i=bt(e),a=e.split(i||`
`),r,n,s=this.getStringOption("delimiter");a[0].indexOf(s)==-1&&a[0].indexOf("	")>=0&&(s="	");var l=0;"labels"in this.user_attrs_||(l=1,this.attrs_.labels=a[0].split(s),this.attributes_.reparseSeries());for(var o=0,h,u=!1,d=this.attr_("labels").length,c=!1,f=l;f<a.length;f++){var p=a[f];if(o=f,p.length!==0&&p[0]!="#"){var v=p.split(s);if(!(v.length<2)){var y=[];if(u||(this.detectTypeFromString_(v[0]),h=this.getFunctionOption("xValueParser"),u=!0),y[0]=h(v[0],this),this.fractions_)for(n=1;n<v.length;n++)r=v[n].split("/"),r.length!=2?(console.error(`Expected fractional "num/den" values in CSV data but found a value '`+v[n]+"' on line "+(1+f)+" ('"+p+"') which is not of this form."),y[n]=[0,0]):y[n]=[ee(r[0],f,p),ee(r[1],f,p)];else if(this.getBooleanOption("errorBars"))for(v.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+f)+" has an odd number of values ("+(v.length-1)+"): '"+p+"'"),n=1;n<v.length;n+=2)y[(n+1)/2]=[ee(v[n],f,p),ee(v[n+1],f,p)];else if(this.getBooleanOption("customBars"))for(n=1;n<v.length;n++){var m=v[n];/^ *$/.test(m)?y[n]=[null,null,null]:(r=m.split(";"),r.length==3?y[n]=[ee(r[0],f,p),ee(r[1],f,p),ee(r[2],f,p)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+m+'" on line '+(1+f)+")"))}else for(n=1;n<v.length;n++)y[n]=ee(v[n],f,p);if(t.length>0&&y[0]<t[t.length-1][0]&&(c=!0),y.length!=d&&console.error("Number of columns in line "+f+" ("+y.length+") does not agree with number of labels ("+d+") "+p),f===0&&this.attr_("labels")){var _=!0;for(n=0;_&&n<y.length;n++)y[n]&&(_=!1);if(_){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+p+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(y)}}}return c&&(console.warn("CSV is out of order; order it correctly to speed loading."),t.sort(function(b,w){return b[0]-w[0]})),t};function Gi(e){let t=e[0],i=t[0];if(typeof i!="number"&&!yt(i))throw new Error(`Expected number or date but got ${typeof i}: ${i}.`);for(let a=1;a<t.length;a++){let r=t[a];if(r!=null&&typeof r!="number"&&!le(r))throw new Error(`Expected number or array but got ${typeof r}: ${r}.`)}}g.prototype.parseArray_=function(e){if(e.length===0&&(e=[[0]]),e[0].length===0)return console.error("Data set cannot contain an empty row"),null;Gi(e);var t;if(this.attr_("labels")===null){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;t<e[0].length;t++)this.attrs_.labels.push("Y"+t);this.attributes_.reparseSeries()}else{var i=this.attr_("labels");if(i.length!=e[0].length)return console.error("Mismatch between number of labels ("+i+") and number of columns in array ("+e[0].length+")"),null}if(yt(e[0][0])){this.attrs_.axes.x.valueFormatter=Ee,this.attrs_.axes.x.ticker=re,this.attrs_.axes.x.axisLabelFormatter=he;var a=mt(e);for(t=0;t<e.length;t++){if(a[t].length===0)return console.error("Row "+(1+t)+" of data is empty"),null;if(a[t][0]===null||typeof a[t][0].getTime!="function"||isNaN(a[t][0].getTime()))return console.error("x value in row "+(1+t)+" is not a Date"),null;a[t][0]=a[t][0].getTime()}return a}else return this.attrs_.axes.x.valueFormatter=function(r){return r},this.attrs_.axes.x.ticker=Q,this.attrs_.axes.x.axisLabelFormatter=Ie,e};g.prototype.parseDataTable_=function(e){var t=function(w){var S=String.fromCharCode(65+w%26);for(w=Math.floor(w/26);w>0;)S=String.fromCharCode(65+(w-1)%26)+S.toLowerCase(),w=Math.floor((w-1)/26);return S},i=e.getNumberOfColumns(),a=e.getNumberOfRows(),r=e.getColumnType(0);if(r=="date"||r=="datetime")this.attrs_.xValueParser=vt,this.attrs_.axes.x.valueFormatter=Ee,this.attrs_.axes.x.ticker=re,this.attrs_.axes.x.axisLabelFormatter=he;else if(r=="number")this.attrs_.xValueParser=function(w){return parseFloat(w)},this.attrs_.axes.x.valueFormatter=function(w){return w},this.attrs_.axes.x.ticker=Q,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter;else throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+r+"')");var n=[],s={},l=!1,o,h;for(o=1;o<i;o++){var u=e.getColumnType(o);if(u=="number")n.push(o);else if(u=="string"&&this.getBooleanOption("displayAnnotations")){var d=n[n.length-1];s.hasOwnProperty(d)?s[d].push(o):s[d]=[o],l=!0}else throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}var c=[e.getColumnLabel(0)];for(o=0;o<n.length;o++)c.push(e.getColumnLabel(n[o])),this.getBooleanOption("errorBars")&&(o+=1);this.attrs_.labels=c,i=c.length;var f=[],p=!1,v=[];for(o=0;o<a;o++){var y=[];if(typeof e.getValue(o,0)>"u"||e.getValue(o,0)===null){console.warn("Ignoring row "+o+" of DataTable because of undefined or null first column.");continue}if(r=="date"||r=="datetime"?y.push(e.getValue(o,0).getTime()):y.push(e.getValue(o,0)),this.getBooleanOption("errorBars"))for(h=0;h<i-1;h++)y.push([e.getValue(o,1+2*h),e.getValue(o,2+2*h)]);else{for(h=0;h<n.length;h++){var m=n[h];if(y.push(e.getValue(o,m)),l&&s.hasOwnProperty(m)&&e.getValue(o,s[m][0])!==null){var _={};_.series=e.getColumnLabel(m),_.xval=y[0],_.shortText=t(v.length),_.text="";for(var b=0;b<s[m].length;b++)b&&(_.text+=`
`),_.text+=e.getValue(o,s[m][b]);v.push(_)}}for(h=0;h<y.length;h++)isFinite(y[h])||(y[h]=null)}f.length>0&&y[0]<f[f.length-1][0]&&(p=!0),f.push(y)}p&&(console.warn("DataTable is out of order; order it correctly to speed loading."),f.sort(function(w,S){return w[0]-S[0]})),this.rawData_=f,v.length>0&&this.setAnnotations(v,!0),this.attributes_.reparseSeries()};g.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})};g.prototype.start_=function(){var e=this.file_;typeof e=="function"&&(e=e());let t=jt(e);if(t=="array")this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(t=="object"&&typeof e.getColumnRange=="function")this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(t=="string"){var i=bt(e);if(i)this.loadedEvent_(e);else{var a;window.XMLHttpRequest?a=new XMLHttpRequest:a=new ActiveXObject("Microsoft.XMLHTTP");var r=this;a.onreadystatechange=function(){a.readyState==4&&(a.status===200||a.status===0)&&r.loadedEvent_(a.responseText)},a.open("GET",e,!0),a.send(null)}}else console.error("Unknown data format: "+t)};g.prototype.updateOptions=function(e,t){typeof t>"u"&&(t=!1);var i=e.file,a=g.copyUserAttrs_(e),r=this.attributes_.numAxes();"rollPeriod"in a&&(this.rollPeriod_=a.rollPeriod),"dateWindow"in a&&(this.dateWindow_=a.dateWindow);var n=ti(this.attr_("labels"),a);qe(this.user_attrs_,a),this.attributes_.reparseSeries(),r<this.attributes_.numAxes()&&this.plotter_.clear(),i?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=i,t||this.start_()):t||(n?this.predraw_():this.renderGraph_(!1))};g.copyUserAttrs_=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&i!="file"&&e.hasOwnProperty(i)&&(t[i]=e[i]);return t};g.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,e===null!=(t===null)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var i=this.width_,a=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(i!=this.width_||a!=this.height_)&&(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}};g.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()};g.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")};g.prototype.setVisibility=function(e,t){var i=this.visibility(),a=!1;if(Array.isArray(e)||(e!==null&&typeof e=="object"?a=!0:e=[e]),a)for(var r in e)e.hasOwnProperty(r)&&(r<0||r>=i.length?console.warn("Invalid series number in setVisibility: "+r):i[r]=e[r]);else for(var r=0;r<e.length;r++)typeof e[r]=="boolean"?r>=i.length?console.warn("Invalid series number in setVisibility: "+r):i[r]=e[r]:e[r]<0||e[r]>=i.length?console.warn("Invalid series number in setVisibility: "+e[r]):i[e[r]]=t;this.predraw_()};g.prototype.size=function(){return{width:this.width_,height:this.height_}};g.prototype.setAnnotations=function(e,t){if(this.annotations_=e,!this.layout_){console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");return}this.layout_.setAnnotations(this.annotations_),t||this.predraw_()};g.prototype.annotations=function(){return this.annotations_};g.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null};g.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]};g.prototype.getRowForX=function(e){for(var t=0,i=this.numRows()-1;t<=i;){var a=i+t>>1,r=this.getValue(a,0);if(r<e)t=a+1;else if(r>e)i=a-1;else if(t!=a)i=a;else return a}return null};g.prototype.ready=function(e){this.is_initial_draw_?this.readyFns_.push(e):e.call(this,this)};g.prototype.addAndTrackEvent=function(e,t,i){oe(e,t,i),this.registeredEvents_.push({elem:e,type:t,fn:i})};g.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];G(t.elem,t.type,t.fn)}this.registeredEvents_=[]};g.PLUGINS=[kt,Ct,Nt,Lt,Et,Ot];g.GVizChart=ui;g.DASHED_LINE=qt;g.DOT_DASH_LINE=$t;g.dateAxisLabelFormatter=he;g.toRGB_=De;g.findPos=te;g.pageX=be;g.pageY=xe;g.dateString_=gt;g.defaultInteractionModel=X.defaultModel;g.nonInteractiveModel=g.nonInteractiveModel_=X.nonInteractiveModel_;g.Circles=Fe;g.Plugins={Legend:kt,Axes:Ct,Annotations:Et,ChartLabels:Lt,Grid:Ot,RangeSelector:Nt};g.DataHandlers={DefaultHandler:ze,BarsHandler:ie,CustomBarsHandler:St,DefaultFractionHandler:Tt,ErrorBarsHandler:At,FractionsBarsHandler:Dt};g.startPan=X.startPan;g.startZoom=X.startZoom;g.movePan=X.movePan;g.moveZoom=X.moveZoom;g.endPan=X.endPan;g.endZoom=X.endZoom;g.numericLinearTicks=Wt;g.numericTicks=Q;g.dateTicker=re;g.Granularity=D;g.getDateAxis=ht;g.floatFormat=pt;ri(g);var J=g;var Mr=new TextEncoder;var Xi=4096;function Pt(e,t,i){for(var a=t,r=a+i,n=[],s="";a<r;){var l=e[a++];if(!(l&128))n.push(l);else if((l&224)===192){var o=e[a++]&63;n.push((l&31)<<6|o)}else if((l&240)===224){var o=e[a++]&63,h=e[a++]&63;n.push((l&31)<<12|o<<6|h)}else if((l&248)===240){var o=e[a++]&63,h=e[a++]&63,u=e[a++]&63,d=(l&7)<<18|o<<12|h<<6|u;d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|d&1023),n.push(d)}else n.push(l);n.length>=Xi&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return n.length>0&&(s+=String.fromCharCode.apply(String,n)),s}var Yi=new TextDecoder,Zi=200;function Ki(e,t,i){var a=e.subarray(t,t+i);return Yi.decode(a)}function di(e,t,i){return i>Zi?Ki(e,t,i):Pt(e,t,i)}var Be=function(){function e(t,i){this.type=t,this.data=i}return e}();var qi=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),K=function(e){qi(t,e);function t(i){var a=e.call(this,i)||this,r=Object.create(t.prototype);return Object.setPrototypeOf(a,r),Object.defineProperty(a,"name",{configurable:!0,enumerable:!1,value:t.name}),a}return t}(Error);var Le=4294967295;function ci(e,t,i){var a=Math.floor(i/4294967296),r=i;e.setUint32(t,a),e.setUint32(t+4,r)}function rt(e,t){var i=e.getInt32(t),a=e.getUint32(t+4);return i*4294967296+a}function fi(e,t){var i=e.getUint32(t),a=e.getUint32(t+4);return i*4294967296+a}var $i=-1,Ji=4294967296-1,Qi=17179869184-1;function ji(e){var t=e.sec,i=e.nsec;if(t>=0&&i>=0&&t<=Qi)if(i===0&&t<=Ji){var a=new Uint8Array(4),r=new DataView(a.buffer);return r.setUint32(0,t),a}else{var n=t/4294967296,s=t&4294967295,a=new Uint8Array(8),r=new DataView(a.buffer);return r.setUint32(0,i<<2|n&3),r.setUint32(4,s),a}else{var a=new Uint8Array(12),r=new DataView(a.buffer);return r.setUint32(0,i),ci(r,4,t),a}}function ea(e){var t=e.getTime(),i=Math.floor(t/1e3),a=(t-i*1e3)*1e6,r=Math.floor(a/1e9);return{sec:i+r,nsec:a-r*1e9}}function ta(e){if(e instanceof Date){var t=ea(e);return ji(t)}else return null}function ia(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:{var i=t.getUint32(0),a=0;return{sec:i,nsec:a}}case 8:{var r=t.getUint32(0),n=t.getUint32(4),i=(r&3)*4294967296+n,a=r>>>2;return{sec:i,nsec:a}}case 12:{var i=rt(t,4),a=t.getUint32(0);return{sec:i,nsec:a}}default:throw new K("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function aa(e){var t=ia(e);return new Date(t.sec*1e3+t.nsec/1e6)}var pi={type:$i,encode:ta,decode:aa};var gi=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(pi)}return e.prototype.register=function(t){var i=t.type,a=t.encode,r=t.decode;if(i>=0)this.encoders[i]=a,this.decoders[i]=r;else{var n=1+i;this.builtInEncoders[n]=a,this.builtInDecoders[n]=r}},e.prototype.tryToEncode=function(t,i){for(var a=0;a<this.builtInEncoders.length;a++){var r=this.builtInEncoders[a];if(r!=null){var n=r(t,i);if(n!=null){var s=-1-a;return new Be(s,n)}}}for(var a=0;a<this.encoders.length;a++){var r=this.encoders[a];if(r!=null){var n=r(t,i);if(n!=null){var s=a;return new Be(s,n)}}}return t instanceof Be?t:null},e.prototype.decode=function(t,i,a){var r=i<0?this.builtInDecoders[-1-i]:this.decoders[i];return r?r(t,i,a):new Be(i,t)},e.defaultCodec=new e,e}();function nt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function vi(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=nt(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}function st(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var ra=16,na=16,yi=function(){function e(t,i){t===void 0&&(t=ra),i===void 0&&(i=na),this.maxKeyLength=t,this.maxLengthPerKey=i,this.hit=0,this.miss=0,this.caches=[];for(var a=0;a<this.maxKeyLength;a++)this.caches.push([])}return e.prototype.canBeCached=function(t){return t>0&&t<=this.maxKeyLength},e.prototype.find=function(t,i,a){var r=this.caches[a-1];e:for(var n=0,s=r;n<s.length;n++){for(var l=s[n],o=l.bytes,h=0;h<a;h++)if(o[h]!==t[i+h])continue e;return l.str}return null},e.prototype.store=function(t,i){var a=this.caches[t.length-1],r={bytes:t,str:i};a.length>=this.maxLengthPerKey?a[Math.random()*a.length|0]=r:a.push(r)},e.prototype.decode=function(t,i,a){var r=this.find(t,i,a);if(r!=null)return this.hit++,r;this.miss++;var n=Pt(t,i,a),s=Uint8Array.prototype.slice.call(t,i,i+a);return this.store(s,n),n},e}();var sa=function(e,t,i,a){function r(n){return n instanceof i?n:new i(function(s){s(n)})}return new(i||(i=Promise))(function(n,s){function l(u){try{h(a.next(u))}catch(d){s(d)}}function o(u){try{h(a.throw(u))}catch(d){s(d)}}function h(u){u.done?n(u.value):r(u.value).then(l,o)}h((a=a.apply(e,t||[])).next())})},Rt=function(e,t){var i={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,r,n,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(u){return o([h,u])}}function o(h){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(i=0)),i;)try{if(a=1,r&&(n=h[0]&2?r.return:h[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,h[1])).done)return n;switch(r=0,n&&(h=[h[0]&2,n.value]),h[0]){case 0:case 1:n=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,r=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(n=i.trys,!(n=n.length>0&&n[n.length-1])&&(h[0]===6||h[0]===2)){i=0;continue}if(h[0]===3&&(!n||h[1]>n[0]&&h[1]<n[3])){i.label=h[1];break}if(h[0]===6&&i.label<n[1]){i.label=n[1],n=h;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(h);break}n[2]&&i.ops.pop(),i.trys.pop();continue}h=t.call(e,i)}catch(u){h=[6,u],r=0}finally{a=n=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},mi=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(n){i[n]=e[n]&&function(s){return new Promise(function(l,o){s=e[n](s),r(l,o,s.done,s.value)})}}function r(n,s,l,o){Promise.resolve(o).then(function(h){n({value:h,done:l})},s)}},Oe=function(e){return this instanceof Oe?(this.v=e,this):new Oe(e)},oa=function(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(e,t||[]),r,n=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(c){a[c]&&(r[c]=function(f){return new Promise(function(p,v){n.push([c,f,p,v])>1||l(c,f)})})}function l(c,f){try{o(a[c](f))}catch(p){d(n[0][3],p)}}function o(c){c.value instanceof Oe?Promise.resolve(c.value.v).then(h,u):d(n[0][2],c)}function h(c){l("next",c)}function u(c){l("throw",c)}function d(c,f){c(f),n.shift(),n.length&&l(n[0][0],n[0][1])}},_i="array",ot="map_key",la="map_value",ha=function(e){return typeof e=="string"||typeof e=="number"},We=-1,It=new DataView(new ArrayBuffer(0)),ua=new Uint8Array(It.buffer);try{It.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var Ft=RangeError,bi=new Ft("Insufficient data"),da=new yi,xi=function(){function e(t){var i,a,r,n,s,l,o;this.totalPos=0,this.pos=0,this.view=It,this.bytes=ua,this.headByte=We,this.stack=[],this.extensionCodec=(i=t?.extensionCodec)!==null&&i!==void 0?i:gi.defaultCodec,this.context=t?.context,this.useBigInt64=(a=t?.useBigInt64)!==null&&a!==void 0?a:!1,this.maxStrLength=(r=t?.maxStrLength)!==null&&r!==void 0?r:Le,this.maxBinLength=(n=t?.maxBinLength)!==null&&n!==void 0?n:Le,this.maxArrayLength=(s=t?.maxArrayLength)!==null&&s!==void 0?s:Le,this.maxMapLength=(l=t?.maxMapLength)!==null&&l!==void 0?l:Le,this.maxExtLength=(o=t?.maxExtLength)!==null&&o!==void 0?o:Le,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:da}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=We,this.stack.length=0},e.prototype.setBuffer=function(t){this.bytes=nt(t),this.view=vi(this.bytes),this.pos=0},e.prototype.appendBuffer=function(t){if(this.headByte===We&&!this.hasRemaining(1))this.setBuffer(t);else{var i=this.bytes.subarray(this.pos),a=nt(t),r=new Uint8Array(i.length+a.length);r.set(i),r.set(a,i.length),this.setBuffer(r)}},e.prototype.hasRemaining=function(t){return this.view.byteLength-this.pos>=t},e.prototype.createExtraByteError=function(t){var i=this,a=i.view,r=i.pos;return new RangeError("Extra ".concat(a.byteLength-r," of ").concat(a.byteLength," byte(s) found at buffer[").concat(t,"]"))},e.prototype.decode=function(t){this.reinitializeState(),this.setBuffer(t);var i=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return i},e.prototype.decodeMulti=function(t){return Rt(this,function(i){switch(i.label){case 0:this.reinitializeState(),this.setBuffer(t),i.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return i.sent(),[3,1];case 3:return[2]}})},e.prototype.decodeAsync=function(t){var i,a,r,n,s,l,o;return sa(this,void 0,void 0,function(){var h,u,d,c,f,p,v,y;return Rt(this,function(m){switch(m.label){case 0:h=!1,m.label=1;case 1:m.trys.push([1,6,7,12]),i=!0,a=mi(t),m.label=2;case 2:return[4,a.next()];case 3:if(r=m.sent(),n=r.done,!!n)return[3,5];o=r.value,i=!1;try{if(d=o,h)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{u=this.doDecodeSync(),h=!0}catch(_){if(!(_ instanceof Ft))throw _}this.totalPos+=this.pos}finally{i=!0}m.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=m.sent(),s={error:c},[3,12];case 7:return m.trys.push([7,,10,11]),!i&&!n&&(l=a.return)?[4,l.call(a)]:[3,9];case 8:m.sent(),m.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:if(h){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,u]}throw f=this,p=f.headByte,v=f.pos,y=f.totalPos,new RangeError("Insufficient data in parsing ".concat(st(p)," at ").concat(y," (").concat(v," in the current buffer)"))}})})},e.prototype.decodeArrayStream=function(t){return this.decodeMultiAsync(t,!0)},e.prototype.decodeStream=function(t){return this.decodeMultiAsync(t,!1)},e.prototype.decodeMultiAsync=function(t,i){return oa(this,arguments,function(){var r,n,s,l,o,h,u,d,c,f,p,v;return Rt(this,function(y){switch(y.label){case 0:r=i,n=-1,y.label=1;case 1:y.trys.push([1,15,16,21]),s=!0,l=mi(t),y.label=2;case 2:return[4,Oe(l.next())];case 3:if(o=y.sent(),c=o.done,!!c)return[3,14];v=o.value,s=!1,y.label=4;case 4:if(y.trys.push([4,,12,13]),h=v,i&&n===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(h),r&&(n=this.readArraySize(),r=!1,this.complete()),y.label=5;case 5:y.trys.push([5,10,,11]),y.label=6;case 6:return[4,Oe(this.doDecodeSync())];case 7:return[4,y.sent()];case 8:return y.sent(),--n===0?[3,9]:[3,6];case 9:return[3,11];case 10:if(u=y.sent(),!(u instanceof Ft))throw u;return[3,11];case 11:return this.totalPos+=this.pos,[3,13];case 12:return s=!0,[7];case 13:return[3,2];case 14:return[3,21];case 15:return d=y.sent(),f={error:d},[3,21];case 16:return y.trys.push([16,,19,20]),!s&&!c&&(p=l.return)?[4,Oe(p.call(l))]:[3,18];case 17:y.sent(),y.label=18;case 18:return[3,20];case 19:if(f)throw f.error;return[7];case 20:return[7];case 21:return[2]}})})},e.prototype.doDecodeSync=function(){e:for(;;){var t=this.readHeadByte(),i=void 0;if(t>=224)i=t-256;else if(t<192)if(t<128)i=t;else if(t<144){var a=t-128;if(a!==0){this.pushMapState(a),this.complete();continue e}else i={}}else if(t<160){var a=t-144;if(a!==0){this.pushArrayState(a),this.complete();continue e}else i=[]}else{var r=t-160;i=this.decodeUtf8String(r,0)}else if(t===192)i=null;else if(t===194)i=!1;else if(t===195)i=!0;else if(t===202)i=this.readF32();else if(t===203)i=this.readF64();else if(t===204)i=this.readU8();else if(t===205)i=this.readU16();else if(t===206)i=this.readU32();else if(t===207)this.useBigInt64?i=this.readU64AsBigInt():i=this.readU64();else if(t===208)i=this.readI8();else if(t===209)i=this.readI16();else if(t===210)i=this.readI32();else if(t===211)this.useBigInt64?i=this.readI64AsBigInt():i=this.readI64();else if(t===217){var r=this.lookU8();i=this.decodeUtf8String(r,1)}else if(t===218){var r=this.lookU16();i=this.decodeUtf8String(r,2)}else if(t===219){var r=this.lookU32();i=this.decodeUtf8String(r,4)}else if(t===220){var a=this.readU16();if(a!==0){this.pushArrayState(a),this.complete();continue e}else i=[]}else if(t===221){var a=this.readU32();if(a!==0){this.pushArrayState(a),this.complete();continue e}else i=[]}else if(t===222){var a=this.readU16();if(a!==0){this.pushMapState(a),this.complete();continue e}else i={}}else if(t===223){var a=this.readU32();if(a!==0){this.pushMapState(a),this.complete();continue e}else i={}}else if(t===196){var a=this.lookU8();i=this.decodeBinary(a,1)}else if(t===197){var a=this.lookU16();i=this.decodeBinary(a,2)}else if(t===198){var a=this.lookU32();i=this.decodeBinary(a,4)}else if(t===212)i=this.decodeExtension(1,0);else if(t===213)i=this.decodeExtension(2,0);else if(t===214)i=this.decodeExtension(4,0);else if(t===215)i=this.decodeExtension(8,0);else if(t===216)i=this.decodeExtension(16,0);else if(t===199){var a=this.lookU8();i=this.decodeExtension(a,1)}else if(t===200){var a=this.lookU16();i=this.decodeExtension(a,2)}else if(t===201){var a=this.lookU32();i=this.decodeExtension(a,4)}else throw new K("Unrecognized type byte: ".concat(st(t)));this.complete();for(var n=this.stack;n.length>0;){var s=n[n.length-1];if(s.type===_i)if(s.array[s.position]=i,s.position++,s.position===s.size)n.pop(),i=s.array;else continue e;else if(s.type===ot){if(!ha(i))throw new K("The type of key must be string or number but "+typeof i);if(i==="__proto__")throw new K("The key __proto__ is not allowed");s.key=i,s.type=la;continue e}else if(s.map[s.key]=i,s.readCount++,s.readCount===s.size)n.pop(),i=s.map;else{s.key=null,s.type=ot;continue e}}return i}},e.prototype.readHeadByte=function(){return this.headByte===We&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=We},e.prototype.readArraySize=function(){var t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new K("Unrecognized array type byte: ".concat(st(t)))}}},e.prototype.pushMapState=function(t){if(t>this.maxMapLength)throw new K("Max length exceeded: map length (".concat(t,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:ot,size:t,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(t){if(t>this.maxArrayLength)throw new K("Max length exceeded: array length (".concat(t,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:_i,size:t,array:new Array(t),position:0})},e.prototype.decodeUtf8String=function(t,i){var a;if(t>this.maxStrLength)throw new K("Max length exceeded: UTF-8 byte length (".concat(t,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+i+t)throw bi;var r=this.pos+i,n;return this.stateIsMapKey()&&(!((a=this.keyDecoder)===null||a===void 0)&&a.canBeCached(t))?n=this.keyDecoder.decode(this.bytes,r,t):n=di(this.bytes,r,t),this.pos+=i+t,n},e.prototype.stateIsMapKey=function(){if(this.stack.length>0){var t=this.stack[this.stack.length-1];return t.type===ot}return!1},e.prototype.decodeBinary=function(t,i){if(t>this.maxBinLength)throw new K("Max length exceeded: bin length (".concat(t,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(t+i))throw bi;var a=this.pos+i,r=this.bytes.subarray(a,a+t);return this.pos+=i+t,r},e.prototype.decodeExtension=function(t,i){if(t>this.maxExtLength)throw new K("Max length exceeded: ext length (".concat(t,") > maxExtLength (").concat(this.maxExtLength,")"));var a=this.view.getInt8(this.pos+i),r=this.decodeBinary(t,i+1);return this.extensionCodec.decode(r,a,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var t=this.view.getUint8(this.pos);return this.pos++,t},e.prototype.readI8=function(){var t=this.view.getInt8(this.pos);return this.pos++,t},e.prototype.readU16=function(){var t=this.view.getUint16(this.pos);return this.pos+=2,t},e.prototype.readI16=function(){var t=this.view.getInt16(this.pos);return this.pos+=2,t},e.prototype.readU32=function(){var t=this.view.getUint32(this.pos);return this.pos+=4,t},e.prototype.readI32=function(){var t=this.view.getInt32(this.pos);return this.pos+=4,t},e.prototype.readU64=function(){var t=fi(this.view,this.pos);return this.pos+=8,t},e.prototype.readI64=function(){var t=rt(this.view,this.pos);return this.pos+=8,t},e.prototype.readU64AsBigInt=function(){var t=this.view.getBigUint64(this.pos);return this.pos+=8,t},e.prototype.readI64AsBigInt=function(){var t=this.view.getBigInt64(this.pos);return this.pos+=8,t},e.prototype.readF32=function(){var t=this.view.getFloat32(this.pos);return this.pos+=4,t},e.prototype.readF64=function(){var t=this.view.getFloat64(this.pos);return this.pos+=8,t},e}();function Ht(e,t){var i=new xi(t);return i.decode(e)}function wi(e,t){return e.replace(/{([^{}]*)}/g,function(i,a){let r=t[a];return typeof r=="string"||typeof r=="number"?r:i})}var ca=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Ut=class{constructor(t,i){this.elem=t,this.opts=i,this.numSeries=this.opts.seriesNames.length,this.cache=new Ge(this.numSeries,this.opts.maxGapMs??60*1e3),this.opts.strokeWidth=this.opts.strokeWidth||3,this.windowSize=this.opts.windowSize,this.t0Server=void 0,this.t0Client=void 0;let a=["x"];for(let r=0;r<this.numSeries;r++)a.push(`y${r+1}`);this.labels=a,this.dygraph=this.makeGraph(),this.connect()}onDraw(t){if(!this.opts.drawCallback)return;let[i,a]=t.xAxisRange(),[r,n]=[i.getTime(),a.getTime()],s=this.cache.getSeries(),l=new Array(s.length);for(let o=0;o<s.length;o++){let h=s[o].Timestamps;if(h.length===0){l[o]=[-1,-1];continue}let u=h[0],d=h[h.length-1];if(u>n||d<r){l[o]=[-1,-1];continue}let c=ve(h,0,p=>p>=r),f=ve(h,h.length,p=>n<p);l[o]=[c,f]}this.opts.drawCallback(r,n,l,s)}makeGraph(){let t={title:wi(this.opts.title,{value:""}),ylabel:this.opts.ylabel,labels:this.labels,includeZero:this.opts.includeZero,strokeWidth:this.opts.strokeWidth,dateWindow:this.computeDateWindow(),height:this.opts.height,rightGap:5,connectSeparatedPoints:!0,valueRange:this.opts.valueRange,series:this.opts.series,drawCallback:this.onDraw.bind(this)};this.disableInteraction()&&(t.interactionModel={});let i=[new Date].concat(new Array(this.numSeries).fill(NaN));return new J(this.elem,[i],t)}disableInteraction(){return ca()}computeDateWindow(){if(this.windowSize===void 0||this.windowSize===null)return;let t=new Date;if(this.t0Client===void 0||this.t0Server===void 0)return[new Date(t.getTime()-this.windowSize),t];let i=t.getTime()-this.t0Client.getTime(),a=new Date(this.t0Server.getTime()+i);return[new Date(a.getTime()-this.windowSize),a]}update(t){if(t.length==0)return;this.cache.append(t);let i={file:this.cache.getData(),labels:this.labels};for(let a=0;a<t.length;a++){let r=t[a];if(r.Pos===0){let n=r.Values[r.Values.length-1];i.title=wi(this.opts.title,{value:n.toFixed(2)});break}}this.dygraph.updateOptions(i)}setDateWindow(t){this.dygraph.updateOptions({dateWindow:t})}setDate(t){let i=this.t0Server===void 0;this.t0Server=t,this.t0Client=new Date,i&&this.scroll()}scroll(){this.opts.disableScroll||setInterval(()=>{this.dygraph!==null&&this.dygraph.updateOptions({dateWindow:this.computeDateWindow()})},250)}getLastTimestamp(){let t=this.cache.getData();return t.length===0?void 0:t[t.length-1][0].getTime()}connect(){let t=`ws://${window.location.hostname}:${window.location.port}/ws`,i=new WebSocket(t);i.binaryType="arraybuffer",i.onmessage=a=>{if(this.elem.classList.remove("rtgraph-disconnected"),a.data instanceof ArrayBuffer){let r=Ht(new Uint8Array(a.data));if(r.error!==void 0){alert(r.error);return}r.now!==void 0&&this.setDate(new Date(r.now)),r.rows!==void 0&&this.update(r.rows)}},i.onopen=a=>{setTimeout(()=>{let r=this.getLastTimestamp();i.send(JSON.stringify({series:this.opts.seriesNames,windowSize:this.windowSize||0,lastPointMs:r,maxGapMs:this.opts.maxGapMs||60*1e3,date:this.opts.date}))})},i.onerror=a=>{i.close()},i.onclose=a=>{this.elem.classList.add("rtgraph-disconnected"),this.reconnect()}}reconnect(){setTimeout(()=>this.connect(),1e3)}};var fa=function(){if(arguments.length===0)throw"Invalid invocation of synchronize(). Need >= 1 argument.";var t=["selection","zoom","range"],i={selection:!0,zoom:!0,range:!0},a=[],r=[],n=function(u){if(u instanceof Object)for(var d=0;d<t.length;d++){var c=t[d];u.hasOwnProperty(c)&&(i[c]=u[c])}else throw"Last argument must be either Dygraph or Object."};if(arguments[0]instanceof J){for(var s=0;s<arguments.length&&arguments[s]instanceof J;s++)a.push(arguments[s]);if(s<arguments.length-1)throw"Invalid invocation of synchronize(). All but the last argument must be Dygraph objects.";s==arguments.length-1&&n(arguments[arguments.length-1])}else if(arguments[0].length){for(var s=0;s<arguments[0].length;s++)a.push(arguments[0][s]);if(arguments.length==2)n(arguments[1]);else if(arguments.length>2)throw"Invalid invocation of synchronize(). Expected two arguments: array and optional options argument."}else throw"Invalid invocation of synchronize(). First parameter must be either Dygraph or list of Dygraphs.";if(a.length<2)throw"Invalid invocation of synchronize(). Need two or more dygraphs to synchronize.";for(var l=a.length,s=0;s<a.length;s++){var o=a[s];o.ready(function(){if(--l==0){for(var d=["drawCallback","highlightCallback","unhighlightCallback"],c=0;c<a.length;c++){r[c]||(r[c]={});for(var f=d.length-1;f>=0;f--)r[c][d[f]]=a[c].getFunctionOption(d[f])}i.zoom&&pa(a,i,r),i.selection&&ga(a,r)}})}return{detach:function(){for(var u=0;u<a.length;u++){var d=a[u];i.zoom&&d.updateOptions({drawCallback:r[u].drawCallback}),i.selection&&d.updateOptions({highlightCallback:r[u].highlightCallback,unhighlightCallback:r[u].unhighlightCallback})}a=null,i=null,r=null}}};function Ai(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;var i=e.length;if(i!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0}function pa(e,t,i){for(var a=!1,r=0;r<e.length;r++){var n=e[r];n.updateOptions({drawCallback:function(l,o){if(a||o){for(let u=0;u<e.length;u++)if(e[u]==l){i[u]&&i[u].drawCallback&&i[u].drawCallback.apply(this,arguments);break}return}a=!0;var h={dateWindow:l.xAxisRange()};l.isZoomed("x")||(h.dateWindow=null),t.range&&(h.valueRange=l.yAxisRange());for(let u=0;u<e.length;u++){if(e[u]==l){i[u]&&i[u].drawCallback&&i[u].drawCallback.apply(this,arguments);continue}Ai(h.dateWindow,e[u].getOption("dateWindow"))&&(!t.range||Ai(h.valueRange,e[u].getOption("valueRange")))||e[u].updateOptions(h)}a=!1}},!0)}}function ga(e,t){for(var i=!1,a=0;a<e.length;a++){var r=e[a];r.updateOptions({highlightCallback:function(s,l,o,h,u){if(!i){i=!0;for(var d=this,c=0;c<e.length;c++){if(d==e[c]){t[c]&&t[c].highlightCallback&&t[c].highlightCallback.apply(this,arguments);continue}var f=e[c].getRowForX(l);f!==null&&e[c].setSelection(f,u,void 0,!0)}i=!1}},unhighlightCallback:function(s){if(!i){i=!0;for(var l=this,o=0;o<e.length;o++){if(l==e[o]){t[o]&&t[o].unhighlightCallback&&t[o].unhighlightCallback.apply(this,arguments);continue}e[o].clearSelection()}i=!1}}},!0)}}var va=fa;export{Ut as Graph,va as synchronize};
/**
 * @license
 * Part of dygraphs, see top-level LICENSE.txt file
 * MIT-licenced: https://opensource.org/licenses/MIT
 */
/*! Bundled license information:

dygraphs/src/dygraph-tickers.js:
  (**
   * @license
   * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-utils.js:
  (**
   * @license
   * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-layout.js:
  (**
   * @license
   * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-canvas.js:
  (**
   * @license
   * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-interaction-model.js:
  (**
   * @license
   * Copyright 2011 Robert Konigsberg (konigsberg@google.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-options-reference.js:
  (**
   * @license
   * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-options.js:
  (**
   * @license
   * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/datahandler.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/default.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/bars.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/bars-error.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/bars-custom.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/default-fractions.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/datahandler/bars-fractions.js:
  (**
   * @license
   * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/plugins/annotations.js:
  (**
   * @license
   * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/plugins/axes.js:
  (**
   * @license
   * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/plugins/chart-labels.js:
  (**
   * @license
   * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/plugins/grid.js:
  (**
   * @license
   * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/plugins/legend.js:
  (**
   * @license
   * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/plugins/range-selector.js:
  (**
   * @license
   * Copyright 2011 Paul Felix (paul.eric.felix@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph-gviz.js:
  (**
   * @license
   * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)

dygraphs/src/dygraph.js:
  (**
   * @license
   * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
   * MIT-licenced: https://opensource.org/licenses/MIT
   *)
*/
